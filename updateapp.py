#streamlit_soil_health_app.py

#Soil Health & Fertilizer Recommender - Streamlit Web App

#Requirements: streamlit, pandas, numpy, scikit-learn, matplotlib

import streamlit as st 
import pandas as pd 
import numpy as np 
import base64 
import io 
import os 
from sklearn.ensemble import RandomForestClassifier 
from sklearn.preprocessing import LabelEncoder, StandardScaler 
from sklearn.model_selection import train_test_split, cross_val_score 
from sklearn.metrics import accuracy_score 
import matplotlib.pyplot as plt 
from matplotlib.ticker import MaxNLocator

st.set_page_config(page_title="Soil Spark", 
                   layout="wide", 
                   initial_sidebar_state="expanded")

#-------------------------
# Add light mint green background and styling
#-------------------------
def add_mint_background():
    css = """
    <style>
    .stApp {
        background-color: #dcfce7;
    }
    
    /* Style text inputs with green background */
    .stTextInput > div > div > input {
        background-color: #d1fae5 !important;
        color: #065f46 !important;
        border: 2px solid #059669 !important;
        font-weight: 500;
    }
    
    /* Style text input labels */
    .stTextInput > label {
        color: #065f46 !important;
        font-weight: 600;
    }
    
    /* Style metric containers */
    .stMetric {
        background-color: #d1fae5;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #059669;
    }
    
    /* Style metric labels and values */
    .stMetric > label {
        color: #065f46 !important;
    }
    
    .stMetric > div {
        color: #065f46 !important;
    }
    
    /* Make all text darker green */
    p, span, div {
        color: #065f46;
    }
    
    /* Style info boxes */
    .stAlert {
        background-color: #d1fae5 !important;
        color: #065f46 !important;
        border: 1px solid #059669 !important;
    }
    
    /* Style success boxes */
    .stSuccess {
        background-color: #d1fae5 !important;
        color: #065f46 !important;
    }
    
    /* Style language selection buttons */
    .stButton > button {
        background-color: #bbf7d0 !important;
        color: #065f46 !important;
        border: 2px solid #059669 !important;
        font-weight: 600;
        font-size: 16px;
        padding: 10px 20px;
    }
    
    .stButton > button:hover {
        background-color: #86efac !important;
        border: 2px solid #047857 !important;
        color: #064e3b !important;
    }
    </style>
    """
    st.markdown(css, unsafe_allow_html=True) 
add_mint_background()

#---------------------------
# Language Translations
#---------------------------

translations = {
    'english': {
        'app_title': 'SOIL SPARK',
        'app_subtitle': 'ðŸŒ± AI-Powered Soil Health & Fertilizer Guidance ðŸŒ±',
        'start_button': 'ðŸš€ Start Journey',
        'language_page_title': 'Choose Your Language',
        'language_page_subtitle': 'Select your preferred language for the application',
        'continue_button': 'Continue',
        'input_page_title': 'ðŸŒ¾ SOIL SPARK',
        'input_page_subtitle': 'Smart farm recommendations powered by ML â€” enter your soil test values to get instant guidance.',
        'enter_values': 'ðŸ“ Enter Soil Test Values',
        'nitrogen': 'Nitrogen (N) - kg/ha',
        'phosphorus': 'Phosphorus (P) - kg/ha',
        'potassium': 'Potassium (K) - kg/ha',
        'ph_value': 'pH Value',
        'analyze_button': 'ðŸ” Analyze Soil',
        'output_page_title': 'ðŸ“Š SOIL SPARK - Analysis Results',
        'input_values': 'ðŸ“¥ Input Values',
        'soil_health': 'Soil Health',
        'recommended_fertilizer': 'Recommended Fertilizer',
        'ph_category': 'pH Category',
        'detailed_recommendations': 'ðŸ“‹ Get Detailed Recommendations',
        'icar_plan': 'ðŸŒ± ICAR Action Plan',
        'nutrient_analysis': 'âš ï¸ Nutrient Analysis & Quick Actions',
        'visual_analysis': 'ðŸ“ˆ Visual Analysis',
        'nutrient_distribution': 'Nutrient Distribution',
        'ph_status': 'pH Status',
        'analyze_new': 'ðŸ”„ Analyze New Sample',
        'footer': 'Built for educational & prototyping purposes. Always validate recommendations with local soil labs and agronomists.',
        'soil_health_reasons_Healthy': 'Your soil has good nutrient balance and suitable pH levels.',
        'soil_health_reasons_Moderate': 'Your soil shows slight nutrient imbalance. Consider mild correction.',
        'soil_health_reasons_Low': 'Your soil nutrients are imbalanced; improvement is needed.',
        'ph_Highly acidic': 'Highly acidic',
        'ph_Slightly acidic': 'Slightly acidic', 
        'ph_Neutral': 'Neutral',
        'ph_Slightly alkaline': 'Slightly alkaline',
        'ph_Highly alkaline': 'Highly alkaline',
        'ph_text_Highly acidic': 'Soil is highly acidic â€” mix agricultural lime.',
        'ph_text_Slightly acidic': 'Soil slightly acidic â€” add agricultural lime.',
        'ph_text_Neutral': 'Soil is neutral â€” maintain with compost.',
        'ph_text_Slightly alkaline': 'Soil slightly alkaline â€” apply gypsum.',
        'ph_text_Highly alkaline': 'Soil highly alkalic â€” add gypsum + compost.',
        'Primary Results': 'Primary Results',
        'change_language': 'ðŸŒ Change Language',
        'feature_importance': 'ðŸ” Feature Importance',
        'feature_importance_desc': 'Which nutrients most affect soil health predictions',
        'model_performance': 'ðŸ“Š Model Performance',
        'model_performance_desc': 'How accurately the model predicts different soil health levels',
        'soil_health_nutrient': 'ðŸŒ± Soil Health vs Nutrient Levels',
        'soil_health_nutrient_desc': 'How different nutrient ranges affect soil health classification',
        'ph_impact': 'ðŸ§ª pH Impact on Nutrient Availability',
        'ph_impact_desc': 'How soil pH affects nutrient absorption by plants',
        'interpretation_guide': 'ðŸ“Š Interpretation Guide:',
        'low_nutrient': 'Red (Low): Nutrient deficiency - requires immediate attention',
        'moderate_nutrient': 'Orange (Moderate): Acceptable but could be improved',
        'healthy_nutrient': 'Green (Healthy): Optimal range for plant growth',
        'ph_insight': 'ðŸ’¡ pH Insight:',
        'overall_accuracy': 'Overall Model Accuracy',
        'fertilizer_accuracy': 'Fertilizer Model Accuracy',
        'model_confidence': 'Model Confidence',
        'high_confidence': 'High',
        'good_confidence': 'Good', 
        'moderate_confidence': 'Moderate',
        'model_trained_info': 'ðŸ’¡ Model trained on historical soil data. Accuracy may vary with local conditions.',
        'detailed_recommendations_generated': 'âœ… Detailed recommendations generated. Use these results as guidance and cross-check with local agronomists for field-scale implementation.',
        'nutrient_ranges': 'Nutrient Ranges',
        'your_value': 'Your value',
        'avoid_extra_urea': 'Avoid extra urea; too much reduces flowering.',
        'avoid_extra_phosphorus': 'Avoid extra P; excess affects micronutrient uptake.',
        'avoid_extra_potassium': 'Avoid extra potash; excess reduces Mg/Ca uptake.',
        'add_urea': 'Add Urea',
        'add_dap': 'Add DAP',
        'add_mop': 'Add MOP',
        'balanced': 'Balanced',
        'low': 'Low',
        'medium': 'Medium', 
        'high': 'High',
        'unknown': 'Unknown'
    },
    'hindi': {
        'app_title': 'à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¸à¥à¤ªà¤¾à¤°à¥à¤•',
        'app_subtitle': 'ðŸŒ± à¤à¤†à¤ˆ à¤¸à¥‡ à¤šà¤²à¤¨à¥‡ à¤µà¤¾à¤²à¥€ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤¸à¥‡à¤¹à¤¤ à¤”à¤° à¤–à¤¾à¤¦ à¤¸à¤²à¤¾à¤¹ ðŸŒ±',
        'start_button': 'ðŸš€ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚',
        'language_page_title': 'à¤…à¤ªà¤¨à¥€ à¤­à¤¾à¤·à¤¾ à¤šà¥à¤¨à¥‡à¤‚',
        'language_page_subtitle': 'à¤à¤ª à¤•à¥‡ à¤²à¤¿à¤ à¤…à¤ªà¤¨à¥€ à¤ªà¤¸à¤‚à¤¦ à¤•à¥€ à¤­à¤¾à¤·à¤¾ à¤šà¥à¤¨à¥‡à¤‚',
        'continue_button': 'à¤†à¤—à¥‡ à¤¬à¤¢à¤¼à¥‡à¤‚',
        'input_page_title': 'ðŸŒ¾ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¸à¥à¤ªà¤¾à¤°à¥à¤•',
        'input_page_subtitle': 'à¤à¤®à¤à¤² à¤¸à¥‡ à¤šà¤²à¤¨à¥‡ à¤µà¤¾à¤²à¥€ à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤–à¥‡à¤¤à¥€ à¤¸à¤²à¤¾à¤¹ â€” à¤¤à¥à¤°à¤‚à¤¤ à¤®à¤¾à¤°à¥à¤—à¤¦à¤°à¥à¤¶à¤¨ à¤ªà¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤…à¤ªà¤¨à¥€ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤œà¤¾à¤‚à¤š à¤•à¥‡ à¤†à¤‚à¤•à¤¡à¤¼à¥‡ à¤¡à¤¾à¤²à¥‡à¤‚à¥¤',
        'enter_values': 'ðŸ“ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤œà¤¾à¤‚à¤š à¤•à¥‡ à¤†à¤‚à¤•à¤¡à¤¼à¥‡ à¤¡à¤¾à¤²à¥‡à¤‚',
        'nitrogen': 'à¤¨à¤¾à¤‡à¤Ÿà¥à¤°à¥‹à¤œà¤¨ (N) - à¤•à¤¿à¤—à¥à¤°à¤¾/à¤¹à¥‡à¤•à¥à¤Ÿà¥‡à¤¯à¤°',
        'phosphorus': 'à¤«à¥‰à¤¸à¥à¤«à¥‹à¤°à¤¸ (P) - à¤•à¤¿à¤—à¥à¤°à¤¾/à¤¹à¥‡à¤•à¥à¤Ÿà¥‡à¤¯à¤°',
        'potassium': 'à¤ªà¥‹à¤Ÿà¥ˆà¤¶à¤¿à¤¯à¤® (K) - à¤•à¤¿à¤—à¥à¤°à¤¾/à¤¹à¥‡à¤•à¥à¤Ÿà¥‡à¤¯à¤°',
        'ph_value': 'pH à¤®à¤¾à¤¨',
        'analyze_button': 'ðŸ” à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤œà¤¾à¤‚à¤š à¤•à¤°à¥‡à¤‚',
        'output_page_title': 'ðŸ“Š à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¸à¥à¤ªà¤¾à¤°à¥à¤• - à¤œà¤¾à¤‚à¤š à¤•à¥‡ à¤¨à¤¤à¥€à¤œà¥‡',
        'input_values': 'ðŸ“¥ à¤¡à¤¾à¤²à¥‡ à¤—à¤ à¤†à¤‚à¤•à¤¡à¤¼à¥‡',
        'soil_health': 'à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤¸à¥‡à¤¹à¤¤',
        'recommended_fertilizer': 'à¤¸à¥à¤à¤¾à¤ˆ à¤—à¤ˆ à¤–à¤¾à¤¦',
        'ph_category': 'pH à¤¶à¥à¤°à¥‡à¤£à¥€',
        'detailed_recommendations': 'ðŸ“‹ à¤µà¤¿à¤¸à¥à¤¤à¥ƒà¤¤ à¤¸à¤²à¤¾à¤¹ à¤²à¥‡à¤‚',
        'icar_plan': 'ðŸŒ± à¤†à¤ˆà¤¸à¥€à¤à¤†à¤° à¤•à¥€ à¤¸à¤²à¤¾à¤¹',
        'nutrient_analysis': 'âš ï¸ à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£ à¤”à¤° à¤œà¤°à¥‚à¤°à¥€ à¤•à¤¦à¤®',
        'visual_analysis': 'ðŸ“ˆ à¤¦à¥ƒà¤¶à¥à¤¯ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£',
        'nutrient_distribution': 'à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ à¤µà¤¿à¤¤à¤°à¤£',
        'ph_status': 'pH à¤¸à¥à¤¥à¤¿à¤¤à¤¿',
        'analyze_new': 'ðŸ”„ à¤¨à¤¯à¤¾ à¤¨à¤®à¥‚à¤¨à¤¾ à¤œà¤¾à¤‚à¤šà¥‡à¤‚',
        'footer': 'à¤¶à¤¿à¤•à¥à¤·à¤¾ à¤”à¤° à¤ªà¥à¤°à¥‹à¤Ÿà¥‹à¤Ÿà¤¾à¤‡à¤ª à¤•à¥‡ à¤²à¤¿à¤ à¤¬à¤¨à¤¾à¤¯à¤¾ à¤—à¤¯à¤¾à¥¤ à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤ªà¥à¤°à¤¯à¥‹à¤—à¤¶à¤¾à¤²à¤¾à¤“à¤‚ à¤”à¤° à¤•à¥ƒà¤·à¤¿ à¤µà¤¿à¤¶à¥‡à¤·à¤œà¥à¤žà¥‹à¤‚ à¤¸à¥‡ à¤¸à¤²à¤¾à¤¹ à¤œà¤°à¥‚à¤° à¤®à¤¿à¤²à¤¾à¤à¤‚à¥¤',
        'soil_health_reasons_Healthy': 'à¤†à¤ªà¤•à¥€ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤®à¥‡à¤‚ à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µà¥‹à¤‚ à¤•à¤¾ à¤…à¤šà¥à¤›à¤¾ à¤¸à¤‚à¤¤à¥à¤²à¤¨ à¤”à¤° à¤¸à¤¹à¥€ pH à¤¸à¥à¤¤à¤° à¤¹à¥ˆà¥¤',
        'soil_health_reasons_Moderate': 'à¤†à¤ªà¤•à¥€ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤®à¥‡à¤‚ à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µà¥‹à¤‚ à¤•à¤¾ à¤¥à¥‹à¤¡à¤¼à¤¾ à¤…à¤¸à¤‚à¤¤à¥à¤²à¤¨ à¤¹à¥ˆà¥¤ à¤¹à¤²à¥à¤•à¤¾ à¤¸à¥à¤§à¤¾à¤° à¤œà¤°à¥‚à¤°à¥€ à¤¹à¥ˆà¥¤',
        'soil_health_reasons_Low': 'à¤†à¤ªà¤•à¥€ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤®à¥‡à¤‚ à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ à¤…à¤¸à¤‚à¤¤à¥à¤²à¤¿à¤¤ à¤¹à¥ˆà¤‚; à¤¸à¥à¤§à¤¾à¤° à¤•à¥€ à¤œà¤°à¥‚à¤°à¤¤ à¤¹à¥ˆà¥¤',
        'ph_Highly acidic': 'à¤¬à¤¹à¥à¤¤ à¤…à¤®à¥à¤²à¥€à¤¯',
        'ph_Slightly acidic': 'à¤¥à¥‹à¤¡à¤¼à¤¾ à¤…à¤®à¥à¤²à¥€à¤¯', 
        'ph_Neutral': 'à¤¨à¥à¤¯à¥‚à¤Ÿà¥à¤°à¤²',
        'ph_Slightly alkaline': 'à¤¥à¥‹à¤¡à¤¼à¤¾ à¤•à¥à¤·à¤¾à¤°à¥€à¤¯',
        'ph_Highly alkaline': 'à¤¬à¤¹à¥à¤¤ à¤•à¥à¤·à¤¾à¤°à¥€à¤¯',
        'ph_text_Highly acidic': 'à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¬à¤¹à¥à¤¤ à¤…à¤®à¥à¤²à¥€à¤¯ à¤¹à¥ˆ â€” à¤–à¥‡à¤¤à¥€ à¤•à¥€ à¤šà¥‚à¤¨à¤¾ à¤®à¤¿à¤²à¤¾à¤à¤‚à¥¤',
        'ph_text_Slightly acidic': 'à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¥à¥‹à¤¡à¤¼à¥€ à¤…à¤®à¥à¤²à¥€à¤¯ à¤¹à¥ˆ â€” à¤–à¥‡à¤¤à¥€ à¤•à¥€ à¤šà¥‚à¤¨à¤¾ à¤¡à¤¾à¤²à¥‡à¤‚à¥¤',
        'ph_text_Neutral': 'à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¨à¥à¤¯à¥‚à¤Ÿà¥à¤°à¤² à¤¹à¥ˆ â€” à¤•à¤®à¥à¤ªà¥‹à¤¸à¥à¤Ÿ à¤¸à¥‡ à¤¬à¤¨à¤¾à¤ à¤°à¤–à¥‡à¤‚à¥¤',
        'ph_text_Slightly alkaline': 'à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¥à¥‹à¤¡à¤¼à¥€ à¤•à¥à¤·à¤¾à¤°à¥€à¤¯ à¤¹à¥ˆ â€” à¤œà¤¿à¤ªà¥à¤¸à¤® à¤¡à¤¾à¤²à¥‡à¤‚à¥¤',
        'ph_text_Highly alkaline': 'à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¬à¤¹à¥à¤¤ à¤•à¥à¤·à¤¾à¤°à¥€à¤¯ à¤¹à¥ˆ â€” à¤œà¤¿à¤ªà¥à¤¸à¤® + à¤•à¤®à¥à¤ªà¥‹à¤¸à¥à¤Ÿ à¤¡à¤¾à¤²à¥‡à¤‚à¥¤',
        'Primary Results': 'à¤®à¥à¤–à¥à¤¯ à¤¨à¤¤à¥€à¤œà¥‡',
        'change_language': 'ðŸŒ à¤­à¤¾à¤·à¤¾ à¤¬à¤¦à¤²à¥‡à¤‚',
        'feature_importance': 'ðŸ” à¤«à¥€à¤šà¤° à¤®à¤¹à¤¤à¥à¤µ',
        'feature_importance_desc': 'à¤•à¥Œà¤¨ à¤¸à¥‡ à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤¸à¥‡à¤¹à¤¤ à¤•à¥€ à¤­à¤µà¤¿à¤·à¥à¤¯à¤µà¤¾à¤£à¥€ à¤•à¥‹ à¤¸à¤¬à¤¸à¥‡ à¤œà¥à¤¯à¤¾à¤¦à¤¾ à¤ªà¥à¤°à¤­à¤¾à¤µà¤¿à¤¤ à¤•à¤°à¤¤à¥‡ à¤¹à¥ˆà¤‚',
        'model_performance': 'ðŸ“Š à¤®à¥‰à¤¡à¤² à¤ªà¥à¤°à¤¦à¤°à¥à¤¶à¤¨',
        'model_performance_desc': 'à¤®à¥‰à¤¡à¤² à¤•à¤¿à¤¤à¤¨à¥€ à¤¸à¤¹à¥€ à¤¸à¥‡ à¤…à¤²à¤—-à¤…à¤²à¤— à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤¸à¥‡à¤¹à¤¤ à¤•à¥€ à¤­à¤µà¤¿à¤·à¥à¤¯à¤µà¤¾à¤£à¥€ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆ',
        'soil_health_nutrient': 'ðŸŒ± à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤¸à¥‡à¤¹à¤¤ à¤¬à¤¨à¤¾à¤® à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ',
        'soil_health_nutrient_desc': 'à¤…à¤²à¤—-à¤…à¤²à¤— à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ à¤¸à¥€à¤®à¤¾à¤à¤‚ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤¸à¥‡à¤¹à¤¤ à¤•à¥‹ à¤•à¥ˆà¤¸à¥‡ à¤ªà¥à¤°à¤­à¤¾à¤µà¤¿à¤¤ à¤•à¤°à¤¤à¥€ à¤¹à¥ˆà¤‚',
        'ph_impact': 'ðŸ§ª pH à¤•à¤¾ à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ à¤‰à¤ªà¤²à¤¬à¥à¤§à¤¤à¤¾ à¤ªà¤° à¤ªà¥à¤°à¤­à¤¾à¤µ',
        'ph_impact_desc': 'à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¤¾ pH à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µà¥‹à¤‚ à¤•à¥‡ à¤…à¤µà¤¶à¥‹à¤·à¤£ à¤•à¥‹ à¤•à¥ˆà¤¸à¥‡ à¤ªà¥à¤°à¤­à¤¾à¤µà¤¿à¤¤ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆ',
        'interpretation_guide': 'ðŸ“Š à¤¸à¤®à¤à¤¨à¥‡ à¤•à¤¾ à¤¤à¤°à¥€à¤•à¤¾:',
        'low_nutrient': 'à¤²à¤¾à¤² (à¤•à¤®): à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ à¤•à¥€ à¤•à¤®à¥€ - à¤¤à¥à¤°à¤‚à¤¤ à¤§à¥à¤¯à¤¾à¤¨ à¤¦à¥‡à¤¨à¥‡ à¤•à¥€ à¤œà¤°à¥‚à¤°à¤¤',
        'moderate_nutrient': 'à¤¨à¤¾à¤°à¤‚à¤—à¥€ (à¤®à¤§à¥à¤¯à¤®): à¤ à¥€à¤• à¤¹à¥ˆ à¤²à¥‡à¤•à¤¿à¤¨ à¤¸à¥à¤§à¤¾à¤° à¤¹à¥‹ à¤¸à¤•à¤¤à¤¾ à¤¹à¥ˆ',
        'healthy_nutrient': 'à¤¹à¤°à¤¾ (à¤…à¤šà¥à¤›à¤¾): à¤ªà¥Œà¤§à¥‹à¤‚ à¤•à¥€ à¤¬à¤¢à¤¼à¥‹à¤¤à¤°à¥€ à¤•à¥‡ à¤²à¤¿à¤ à¤¸à¤¬à¤¸à¥‡ à¤…à¤šà¥à¤›à¤¾ à¤¸à¥à¤¤à¤°',
        'ph_insight': 'ðŸ’¡ pH à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€:',
        'overall_accuracy': 'à¤•à¥à¤² à¤®à¥‰à¤¡à¤² à¤¸à¤Ÿà¥€à¤•à¤¤à¤¾',
        'fertilizer_accuracy': 'à¤–à¤¾à¤¦ à¤®à¥‰à¤¡à¤² à¤¸à¤Ÿà¥€à¤•à¤¤à¤¾',
        'model_confidence': 'à¤®à¥‰à¤¡à¤² à¤µà¤¿à¤¶à¥à¤µà¤¾à¤¸',
        'high_confidence': 'à¤‰à¤šà¥à¤š',
        'good_confidence': 'à¤…à¤šà¥à¤›à¤¾', 
        'moderate_confidence': 'à¤®à¤§à¥à¤¯à¤®',
        'model_trained_info': 'ðŸ’¡ à¤®à¥‰à¤¡à¤² à¤ªà¥à¤°à¤¾à¤¨à¥‡ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥‡ à¤†à¤‚à¤•à¤¡à¤¼à¥‹à¤‚ à¤ªà¤° à¤ªà¥à¤°à¤¶à¤¿à¤•à¥à¤·à¤¿à¤¤à¥¤ à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ à¤ªà¤°à¤¿à¤¸à¥à¤¥à¤¿à¤¤à¤¿à¤¯à¥‹à¤‚ à¤•à¥‡ à¤…à¤¨à¥à¤¸à¤¾à¤° à¤¸à¤Ÿà¥€à¤•à¤¤à¤¾ à¤¬à¤¦à¤² à¤¸à¤•à¤¤à¥€ à¤¹à¥ˆà¥¤',
        'detailed_recommendations_generated': 'âœ… à¤µà¤¿à¤¸à¥à¤¤à¥ƒà¤¤ à¤¸à¤²à¤¾à¤¹ à¤¤à¥ˆà¤¯à¤¾à¤°à¥¤ à¤‡à¤¨ à¤¨à¤¤à¥€à¤œà¥‹à¤‚ à¤•à¥‹ à¤®à¤¾à¤°à¥à¤—à¤¦à¤°à¥à¤¶à¤¨ à¤•à¥‡ à¤¤à¥Œà¤° à¤ªà¤° à¤‡à¤¸à¥à¤¤à¥‡à¤®à¤¾à¤² à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ à¤•à¥ƒà¤·à¤¿ à¤µà¤¿à¤¶à¥‡à¤·à¤œà¥à¤žà¥‹à¤‚ à¤¸à¥‡ à¤œà¤°à¥‚à¤° à¤®à¤¿à¤²à¤¾à¤à¤‚à¥¤',
        'nutrient_ranges': 'à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µ à¤¸à¥€à¤®à¤¾à¤à¤‚',
        'your_value': 'à¤†à¤ªà¤•à¤¾ à¤®à¤¾à¤¨',
        'avoid_extra_urea': 'à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ à¤¯à¥‚à¤°à¤¿à¤¯à¤¾ à¤¸à¥‡ à¤¬à¤šà¥‡à¤‚; à¤œà¥à¤¯à¤¾à¤¦à¤¾ à¤¹à¥‹à¤¨à¥‡ à¤ªà¤° à¤«à¥‚à¤²à¥‹à¤‚ à¤®à¥‡à¤‚ à¤•à¤®à¥€ à¤†à¤¤à¥€ à¤¹à¥ˆà¥¤',
        'avoid_extra_phosphorus': 'à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ à¤«à¥‰à¤¸à¥à¤«à¥‹à¤°à¤¸ à¤¸à¥‡ à¤¬à¤šà¥‡à¤‚; à¤œà¥à¤¯à¤¾à¤¦à¤¾ à¤¹à¥‹à¤¨à¥‡ à¤ªà¤° à¤¸à¥‚à¤•à¥à¤·à¥à¤® à¤ªà¥‹à¤·à¤• à¤¤à¤¤à¥à¤µà¥‹à¤‚ à¤•à¤¾ à¤…à¤µà¤¶à¥‹à¤·à¤£ à¤ªà¥à¤°à¤­à¤¾à¤µà¤¿à¤¤ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆà¥¤',
        'avoid_extra_potassium': 'à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ à¤ªà¥‹à¤Ÿà¤¾à¤¶ à¤¸à¥‡ à¤¬à¤šà¥‡à¤‚; à¤œà¥à¤¯à¤¾à¤¦à¤¾ à¤¹à¥‹à¤¨à¥‡ à¤ªà¤° à¤®à¥ˆà¤—à¥à¤¨à¥€à¤¶à¤¿à¤¯à¤®/à¤•à¥ˆà¤²à¥à¤¶à¤¿à¤¯à¤® à¤•à¤¾ à¤…à¤µà¤¶à¥‹à¤·à¤£ à¤•à¤® à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆà¥¤',
        'add_urea': 'à¤¯à¥‚à¤°à¤¿à¤¯à¤¾ à¤¡à¤¾à¤²à¥‡à¤‚',
        'add_dap': 'à¤¡à¥€à¤à¤ªà¥€ à¤¡à¤¾à¤²à¥‡à¤‚',
        'add_mop': 'à¤à¤®à¤“à¤ªà¥€ à¤¡à¤¾à¤²à¥‡à¤‚',
        'balanced': 'à¤¸à¤‚à¤¤à¥à¤²à¤¿à¤¤',
        'low': 'à¤•à¤®',
        'medium': 'à¤®à¤§à¥à¤¯à¤®', 
        'high': 'à¤‰à¤šà¥à¤š',
        'unknown': 'à¤…à¤œà¥à¤žà¤¾à¤¤'
    },
    'telugu': {
        'app_title': 'à°¸à°¾à°¯à°¿à°²à± à°¸à±à°ªà°¾à°°à±à°•à±',
        'app_subtitle': 'ðŸŒ± AI à°¤à±‹ à°¨à±‡à°² à°†à°°à±‹à°—à±à°¯à°‚ & à°Žà°°à±à°µà± à°®à°¾à°°à±à°—à°¦à°°à±à°¶à°¨ ðŸŒ±',
        'start_button': 'ðŸš€ à°®à±Šà°¦à°²à±à°ªà±†à°Ÿà±à°Ÿà°‚à°¡à°¿',
        'language_page_title': 'à°®à±€ à°­à°¾à°·à°¨à± à°Žà°‚à°šà±à°•à±‹à°‚à°¡à°¿',
        'language_page_subtitle': 'à°¯à°¾à°ªà± à°•à±‹à°¸à°‚ à°®à±€à°•à± à°¨à°šà±à°šà°¿à°¨ à°­à°¾à°·à°¨à± à°Žà°‚à°šà±à°•à±‹à°‚à°¡à°¿',
        'continue_button': 'à°•à±Šà°¨à°¸à°¾à°—à°¿à°‚à°šà±',
        'input_page_title': 'ðŸŒ¾ à°¸à°¾à°¯à°¿à°²à± à°¸à±à°ªà°¾à°°à±à°•à±',
        'input_page_subtitle': 'ML à°¤à±‹ à°¨à°¡à°¿à°šà±‡ à°¸à±à°®à°¾à°°à±à°Ÿà± à°«à°¾à°°à±à°®à± à°¸à°²à°¹à°¾à°²à± â€” à°¤à°•à±à°·à°£ à°®à°¾à°°à±à°—à°¦à°°à±à°¶à°¨ à°•à±‹à°¸à°‚ à°®à±€ à°¨à±‡à°² à°ªà°°à±€à°•à±à°· à°µà°¿à°²à±à°µà°²à°¨à± à°¨à°®à±‹à°¦à± à°šà±‡à°¯à°‚à°¡à°¿.',
        'enter_values': 'ðŸ“ à°¨à±‡à°² à°ªà°°à±€à°•à±à°· à°µà°¿à°²à±à°µà°²à°¨à± à°¨à°®à±‹à°¦à± à°šà±‡à°¯à°‚à°¡à°¿',
        'nitrogen': 'à°¨à°¤à±à°°à°œà°¨à°¿ (N) - kg/ha',
        'phosphorus': 'à°­à°¾à°¸à±à°µà°°à°‚ (P) - kg/ha',
        'potassium': 'à°ªà±Šà°Ÿà°¾à°·à°¿à°¯à°‚ (K) - kg/ha',
        'ph_value': 'pH à°µà°¿à°²à±à°µ',
        'analyze_button': 'ðŸ” à°¨à±‡à°²à°¨à± à°µà°¿à°¶à±à°²à±‡à°·à°¿à°‚à°šà°‚à°¡à°¿',
        'output_page_title': 'ðŸ“Š à°¸à°¾à°¯à°¿à°²à± à°¸à±à°ªà°¾à°°à±à°•à± - à°µà°¿à°¶à±à°²à±‡à°·à°£ à°«à°²à°¿à°¤à°¾à°²à±',
        'input_values': 'ðŸ“¥ à°¨à°®à±‹à°¦à± à°µà°¿à°²à±à°µà°²à±',
        'soil_health': 'à°¨à±‡à°² à°†à°°à±‹à°—à±à°¯à°‚',
        'recommended_fertilizer': 'à°¸à±‚à°šà°¿à°‚à°šà°¿à°¨ à°Žà°°à±à°µà±',
        'ph_category': 'pH à°µà°°à±à°—à°‚',
        'detailed_recommendations': 'ðŸ“‹ à°µà°¿à°µà°°à°£à°¾à°¤à±à°®à°• à°¸à°²à°¹à°¾à°²à± à°ªà±Šà°‚à°¦à°‚à°¡à°¿',
        'icar_plan': 'ðŸŒ± à°à°¸à°¿à°Žà°†à°°à± à°¸à°²à°¹à°¾à°²à±',
        'nutrient_analysis': 'âš ï¸ à°ªà±‹à°·à°• à°µà°¿à°¶à±à°²à±‡à°·à°£ & à°¤à±à°µà°°à°¿à°¤ à°šà°°à±à°¯à°²à±',
        'visual_analysis': 'ðŸ“ˆ à°¦à±ƒà°¶à±à°¯ à°µà°¿à°¶à±à°²à±‡à°·à°£',
        'nutrient_distribution': 'à°ªà±‹à°·à°• à°ªà°‚à°ªà°¿à°£à±€',
        'ph_status': 'pH à°¸à±à°¥à°¿à°¤à°¿',
        'analyze_new': 'ðŸ”„ à°•à±Šà°¤à±à°¤ à°¨à°®à±‚à°¨à°¾à°¨à± à°µà°¿à°¶à±à°²à±‡à°·à°¿à°‚à°šà°‚à°¡à°¿',
        'footer': 'à°µà°¿à°¦à±à°¯à°¾ & à°ªà±à°°à±‹à°Ÿà±‹à°Ÿà±ˆà°ªà± à°ªà±à°°à°¯à±‹à°œà°¨à°¾à°² à°•à±‹à°¸à°‚ à°¤à°¯à°¾à°°à± à°šà±‡à°¯à°¬à°¡à°¿à°‚à°¦à°¿. à°¸à±à°¥à°¾à°¨à°¿à°• à°¨à±‡à°² à°ªà±à°°à°¯à±‹à°—à°¶à°¾à°²à°²à± à°®à°°à°¿à°¯à± à°µà±à°¯à°µà°¸à°¾à°¯ à°¨à°¿à°ªà±à°£à±à°²à°¤à±‹ à°¸à°²à°¹à°¾à°²à± à°–à°šà±à°šà°¿à°¤à°‚à°—à°¾ à°¸à°°à°¿à°šà±‚à°¸à±à°•à±‹à°‚à°¡à°¿.',
        'soil_health_reasons_Healthy': 'à°®à±€ à°¨à±‡à°²à°²à±‹ à°®à°‚à°šà°¿ à°ªà±‹à°·à°• à°¸à°®à°¤à±à°²à±à°¯à°¤ à°®à°°à°¿à°¯à± à°¤à°—à°¿à°¨ pH à°¸à±à°¥à°¾à°¯à°¿à°²à± à°‰à°¨à±à°¨à°¾à°¯à°¿.',
        'soil_health_reasons_Moderate': 'à°®à±€ à°¨à±‡à°²à°²à±‹ à°•à±Šà°‚à°šà±†à°‚ à°ªà±‹à°·à°• à°…à°¸à°®à°¤à±à°²à±à°¯à°¤ à°‰à°‚à°¦à°¿. à°¤à±‡à°²à°¿à°•à°ªà°¾à°Ÿà°¿ à°¸à°°à°¿à°¦à°¿à°¦à±à°¦à±à°¬à°¾à°Ÿà± à°…à°µà°¸à°°à°‚.',
        'soil_health_reasons_Low': 'à°®à±€ à°¨à±‡à°² à°ªà±‹à°·à°•à°¾à°²à± à°…à°¸à°®à°¤à±à°²à±à°¯à°‚à°—à°¾ à°‰à°¨à±à°¨à°¾à°¯à°¿; à°®à±†à°°à±à°—à±à°¦à°² à°…à°µà°¸à°°à°‚.',
        'ph_Highly acidic': 'à°šà°¾à°²à°¾ à°†à°®à±à°²à°‚',
        'ph_Slightly acidic': 'à°•à±Šà°‚à°šà±†à°‚ à°†à°®à±à°²à°‚', 
        'ph_Neutral': 'à°¤à°Ÿà°¸à±à°¥à°‚',
        'ph_Slightly alkaline': 'à°•à±Šà°‚à°šà±†à°‚ à°•à±à°·à°¾à°°à°‚',
        'ph_Highly alkaline': 'à°šà°¾à°²à°¾ à°•à±à°·à°¾à°°à°‚',
        'ph_text_Highly acidic': 'à°¨à±‡à°² à°šà°¾à°²à°¾ à°†à°®à±à°²à°‚ â€” à°µà±à°¯à°µà°¸à°¾à°¯ à°¸à±à°¨à±à°¨à°¾à°¨à°¿ à°•à°²à°ªà°‚à°¡à°¿.',
        'ph_text_Slightly acidic': 'à°¨à±‡à°² à°•à±Šà°‚à°šà±†à°‚ à°†à°®à±à°²à°‚ â€” à°µà±à°¯à°µà°¸à°¾à°¯ à°¸à±à°¨à±à°¨à°¾à°¨à°¿ à°œà±‹à°¡à°¿à°‚à°šà°‚à°¡à°¿.',
        'ph_text_Neutral': 'à°¨à±‡à°² à°¤à°Ÿà°¸à±à°¥à°‚à°—à°¾ à°‰à°‚à°¦à°¿ â€” à°•à°‚à°ªà±‹à°¸à±à°Ÿà±à°¤à±‹ à°¨à°¿à°°à±à°µà°¹à°¿à°‚à°šà°‚à°¡à°¿.',
        'ph_text_Slightly alkaline': 'à°¨à±‡à°² à°•à±Šà°‚à°šà±†à°‚ à°•à±à°·à°¾à°°à°‚ â€” à°œà°¿à°ªà±à°¸à°‚ à°µà°°à±à°¤à°¿à°‚à°šà°‚à°¡à°¿.',
        'ph_text_Highly alkaline': 'à°¨à±‡à°² à°šà°¾à°²à°¾ à°•à±à°·à°¾à°°à°‚ â€” à°œà°¿à°ªà±à°¸à°‚ + à°•à°‚à°ªà±‹à°¸à±à°Ÿà± à°œà±‹à°¡à°¿à°‚à°šà°‚à°¡à°¿.',
        'Primary Results': 'à°ªà±à°°à°§à°¾à°¨ à°«à°²à°¿à°¤à°¾à°²à±',
        'change_language': 'ðŸŒ à°­à°¾à°· à°®à°¾à°°à±à°šà°‚à°¡à°¿',
        'feature_importance': 'ðŸ” à°«à±€à°šà°°à± à°ªà±à°°à°¾à°®à±à°–à±à°¯à°¤',
        'feature_importance_desc': 'à° à°ªà±‹à°·à°•à°¾à°²à± à°¨à±‡à°² à°†à°°à±‹à°—à±à°¯à°‚ à°…à°‚à°šà°¨à°¾à°²à°¨à± à°Žà°•à±à°•à±à°µà°—à°¾ à°ªà±à°°à°­à°¾à°µà°¿à°¤à°‚ à°šà±‡à°¸à±à°¤à°¾à°¯à°¿',
        'model_performance': 'ðŸ“Š à°®à±‹à°¡à°²à± à°ªà°¨à°¿à°¤à±€à°°à±',
        'model_performance_desc': 'à°®à±‹à°¡à°²à± à°µà±‡à°°à±à°µà±‡à°°à± à°¨à±‡à°² à°†à°°à±‹à°—à±à°¯ à°¸à±à°¥à°¾à°¯à°¿à°²à°¨à± à°Žà°‚à°¤ à°–à°šà±à°šà°¿à°¤à°‚à°—à°¾ à°…à°‚à°šà°¨à°¾ à°µà±‡à°¸à±à°¤à±à°‚à°¦à°¿',
        'soil_health_nutrient': 'ðŸŒ± à°¨à±‡à°² à°†à°°à±‹à°—à±à°¯à°‚ vs à°ªà±‹à°·à°•à°¾à°²à±',
        'soil_health_nutrient_desc': 'à°µà±‡à°°à±à°µà±‡à°°à± à°ªà±‹à°·à°• à°ªà°°à°¿à°§à±à°²à± à°¨à±‡à°² à°†à°°à±‹à°—à±à°¯à°¾à°¨à±à°¨à°¿ à°Žà°²à°¾ à°ªà±à°°à°­à°¾à°µà°¿à°¤à°‚ à°šà±‡à°¸à±à°¤à°¾à°¯à°¿',
        'ph_impact': 'ðŸ§ª pH à°¯à±Šà°•à±à°• à°ªà±‹à°·à°• à°²à°­à±à°¯à°¤à°ªà±ˆ à°ªà±à°°à°­à°¾à°µà°‚',
        'ph_impact_desc': 'à°¨à±‡à°² pH à°ªà±‹à°·à°•à°¾à°² à°¶à±‹à°·à°£à°¨à± à°Žà°²à°¾ à°ªà±à°°à°­à°¾à°µà°¿à°¤à°‚ à°šà±‡à°¸à±à°¤à±à°‚à°¦à°¿',
        'interpretation_guide': 'ðŸ“Š à°…à°°à±à°¥à°‚ à°šà±‡à°¸à±à°•à±‹à°µà°¡à°‚:',
        'low_nutrient': 'à°Žà°°à±à°ªà± (à°¤à°•à±à°•à±à°µ): à°ªà±‹à°·à°• à°²à±‹à°ªà°‚ - à°¤à°•à±à°·à°£ à°¶à±à°°à°¦à±à°§ à°…à°µà°¸à°°à°‚',
        'moderate_nutrient': 'à°¨à°¾à°°à°¿à°‚à°œ (à°®à°§à±à°¯à°¸à±à°¥à°‚): à°¸à°°à°¿à°ªà±‹à°¤à±à°‚à°¦à°¿ à°•à°¾à°¨à±€ à°®à±†à°°à±à°—à±à°ªà°¡à°µà°šà±à°šà±',
        'healthy_nutrient': 'à°ªà°šà±à°š (à°†à°°à±‹à°—à±à°¯à°•à°°à°‚): à°®à±Šà°•à±à°•à°² à°µà±ƒà°¦à±à°§à°¿à°•à°¿ à°…à°¨à±à°•à±‚à°²à°®à±ˆà°¨ à°ªà°°à°¿à°§à°¿',
        'ph_insight': 'ðŸ’¡ pH à°…à°‚à°¤à°°à±à°¦à±ƒà°·à±à°Ÿà°¿:',
        'overall_accuracy': 'à°®à±Šà°¤à±à°¤à°‚ à°®à±‹à°¡à°²à± à°–à°šà±à°šà°¿à°¤à°¤à±à°µà°‚',
        'fertilizer_accuracy': 'à°Žà°°à±à°µà± à°®à±‹à°¡à°²à± à°–à°šà±à°šà°¿à°¤à°¤à±à°µà°‚',
        'model_confidence': 'à°®à±‹à°¡à°²à± à°¨à°®à±à°®à°•à°‚',
        'high_confidence': 'à°…à°§à°¿à°•',
        'good_confidence': 'à°®à°‚à°šà°¿', 
        'moderate_confidence': 'à°®à°§à±à°¯à°¸à±à°¥à°‚',
        'model_trained_info': 'ðŸ’¡ à°®à±‹à°¡à°²à± à°ªà°¾à°¤ à°¨à±‡à°² à°¡à±‡à°Ÿà°¾à°ªà±ˆ à°¶à°¿à°•à±à°·à°£ à°ªà±Šà°‚à°¦à°¿à°‚à°¦à°¿. à°¸à±à°¥à°¾à°¨à°¿à°• à°ªà°°à°¿à°¸à±à°¥à°¿à°¤à±à°² à°ªà±à°°à°•à°¾à°°à°‚ à°–à°šà±à°šà°¿à°¤à°¤à±à°µà°‚ à°®à°¾à°°à°µà°šà±à°šà±.',
        'detailed_recommendations_generated': 'âœ… à°µà°¿à°µà°°à°£à°¾à°¤à±à°®à°• à°¸à°²à°¹à°¾à°²à± à°¤à°¯à°¾à°°à°¯à±à°¯à°¾à°¯à°¿. à°ˆ à°«à°²à°¿à°¤à°¾à°²à°¨à± à°®à°¾à°°à±à°—à°¦à°°à±à°¶à°•à°‚à°—à°¾ à°‰à°ªà°¯à±‹à°—à°¿à°‚à°šà°‚à°¡à°¿ à°®à°°à°¿à°¯à± à°¸à±à°¥à°¾à°¨à°¿à°• à°µà±à°¯à°µà°¸à°¾à°¯ à°¨à°¿à°ªà±à°£à±à°²à°¤à±‹ à°–à°šà±à°šà°¿à°¤à°‚à°—à°¾ à°¸à°°à°¿à°šà±‚à°¸à±à°•à±‹à°‚à°¡à°¿.',
        'nutrient_ranges': 'à°ªà±‹à°·à°• à°ªà°°à°¿à°§à±à°²à±',
        'your_value': 'à°®à±€ à°µà°¿à°²à±à°µ',
        'avoid_extra_urea': 'à°…à°¦à°¨à°ªà± à°¯à±‚à°°à°¿à°¯à°¾ à°¨à±à°‚à°¡à°¿ à°¦à±‚à°°à°‚à°—à°¾ à°‰à°‚à°¡à°‚à°¡à°¿; à°Žà°•à±à°•à±à°µà±ˆà°¤à±‡ à°ªà±à°·à±à°ªà°¿à°‚à°šà°¡à°‚ à°¤à°—à±à°—à±à°¤à±à°‚à°¦à°¿.',
        'avoid_extra_phosphorus': 'à°…à°¦à°¨à°ªà± à°­à°¾à°¸à±à°µà°°à°‚ à°¨à±à°‚à°¡à°¿ à°¦à±‚à°°à°‚à°—à°¾ à°‰à°‚à°¡à°‚à°¡à°¿; à°Žà°•à±à°•à±à°µà±ˆà°¤à±‡ à°¸à±‚à°•à±à°·à±à°® à°ªà±‹à°·à°•à°¾à°² à°¶à±‹à°·à°£ à°ªà±à°°à°­à°¾à°µà°¿à°¤à°®à°µà±à°¤à±à°‚à°¦à°¿.',
        'avoid_extra_potassium': 'à°…à°¦à°¨à°ªà± à°ªà±Šà°Ÿà°¾à°·à± à°¨à±à°‚à°¡à°¿ à°¦à±‚à°°à°‚à°—à°¾ à°‰à°‚à°¡à°‚à°¡à°¿; à°Žà°•à±à°•à±à°µà±ˆà°¤à±‡ à°®à±†à°—à±à°¨à±€à°·à°¿à°¯à°‚/à°•à°¾à°²à±à°·à°¿à°¯à°‚ à°¶à±‹à°·à°£ à°¤à°—à±à°—à±à°¤à±à°‚à°¦à°¿.',
        'add_urea': 'à°¯à±‚à°°à°¿à°¯à°¾ à°œà±‹à°¡à°¿à°‚à°šà°‚à°¡à°¿',
        'add_dap': 'à°¡à±€à°à°ªà±€ à°œà±‹à°¡à°¿à°‚à°šà°‚à°¡à°¿',
        'add_mop': 'à°Žà°®à±à°“à°ªà±€ à°œà±‹à°¡à°¿à°‚à°šà°‚à°¡à°¿',
        'balanced': 'à°¸à°®à°¤à±à°²à±à°¯à°‚',
        'low': 'à°¤à°•à±à°•à±à°µ',
        'medium': 'à°®à°§à±à°¯à°¸à±à°¥à°‚', 
        'high': 'à°Žà°•à±à°•à±à°µ',
        'unknown': 'à°¤à±†à°²à°¿à°¯à°¦à±'
    },
    'tamil': {
        'app_title': 'à®®à®£à¯ à®¸à¯à®ªà®¾à®°à¯à®•à¯',
        'app_subtitle': 'ðŸŒ± AI-à®‡à®¯à®•à¯à®•à¯à®®à¯ à®®à®£à¯ à®†à®°à¯‹à®•à¯à®•à®¿à®¯à®®à¯ & à®‰à®° à®ªà®°à®¿à®¨à¯à®¤à¯à®°à¯ˆ ðŸŒ±',
        'start_button': 'ðŸš€ à®ªà®¯à®£à®¤à¯à®¤à¯ˆ à®¤à¯Šà®Ÿà®™à¯à®•à®µà¯à®®à¯',
        'language_page_title': 'à®‰à®™à¯à®•à®³à¯ à®®à¯Šà®´à®¿à®¯à¯ˆ à®¤à¯‡à®°à¯à®¨à¯à®¤à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯',
        'language_page_subtitle': 'à®µà®¿à®£à¯à®£à®ªà¯à®ªà®¤à¯à®¤à®¿à®±à¯à®•à®¾à®© à®‰à®™à¯à®•à®³à¯ à®µà®¿à®°à¯à®ªà¯à®ª à®®à¯Šà®´à®¿à®¯à¯ˆà®¤à¯ à®¤à¯‡à®°à¯à®¨à¯à®¤à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯',
        'continue_button': 'à®¤à¯Šà®Ÿà®°à®µà¯à®®à¯',
        'input_page_title': 'ðŸŒ¾ à®®à®£à¯ à®¸à¯à®ªà®¾à®°à¯à®•à¯',
        'input_page_subtitle': 'ML-à®‡à®¯à®•à¯à®•à¯à®®à¯ à®¸à¯à®®à®¾à®°à¯à®Ÿà¯ à®ªà®£à¯à®£à¯ˆ à®ªà®°à®¿à®¨à¯à®¤à¯à®°à¯ˆà®•à®³à¯ â€” à®‰à®Ÿà®©à®Ÿà®¿ à®µà®´à®¿à®•à®¾à®Ÿà¯à®Ÿà¯à®¤à®²à¯à®•à¯à®•à¯ à®‰à®™à¯à®•à®³à¯ à®®à®£à¯ à®šà¯‹à®¤à®©à¯ˆ à®®à®¤à®¿à®ªà¯à®ªà¯à®•à®³à¯ˆ à®‰à®³à¯à®³à®¿à®Ÿà®µà¯à®®à¯.',
        'enter_values': 'ðŸ“ à®®à®£à¯ à®šà¯‹à®¤à®©à¯ˆ à®®à®¤à®¿à®ªà¯à®ªà¯à®•à®³à¯ˆ à®‰à®³à¯à®³à®¿à®Ÿà®µà¯à®®à¯',
        'nitrogen': 'à®¨à¯ˆà®Ÿà¯à®°à®œà®©à¯ (N) - kg/ha',
        'phosphorus': 'à®ªà®¾à®¸à¯à®ªà®°à®¸à¯ (P) - kg/ha',
        'potassium': 'à®ªà¯Šà®Ÿà¯à®Ÿà®¾à®šà®¿à®¯à®®à¯ (K) - kg/ha',
        'ph_value': 'pH à®®à®¤à®¿à®ªà¯à®ªà¯',
        'analyze_button': 'ðŸ” à®®à®£à¯à®£à¯ˆ à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà¯ à®šà¯†à®¯à¯à®¯à®µà¯à®®à¯',
        'output_page_title': 'ðŸ“Š à®®à®£à¯ à®¸à¯à®ªà®¾à®°à¯à®•à¯ - à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà¯ à®®à¯à®Ÿà®¿à®µà¯à®•à®³à¯',
        'input_values': 'ðŸ“¥ à®‰à®³à¯à®³à¯€à®Ÿà¯à®Ÿà¯ à®®à®¤à®¿à®ªà¯à®ªà¯à®•à®³à¯',
        'soil_health': 'à®®à®£à¯ à®†à®°à¯‹à®•à¯à®•à®¿à®¯à®®à¯',
        'recommended_fertilizer': 'à®ªà®°à®¿à®¨à¯à®¤à¯à®°à¯ˆà®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿ à®‰à®°à®®à¯',
        'ph_category': 'pH à®µà®•à¯ˆ',
        'detailed_recommendations': 'ðŸ“‹ à®µà®¿à®°à®¿à®µà®¾à®© à®ªà®°à®¿à®¨à¯à®¤à¯à®°à¯ˆà®•à®³à¯ˆà®ªà¯ à®ªà¯†à®±à¯à®•',
        'icar_plan': 'ðŸŒ¾ à®à®šà®¿à®à®†à®°à¯ à®šà¯†à®¯à®²à¯ à®¤à®¿à®Ÿà¯à®Ÿà®®à¯',
        'nutrient_analysis': 'âš ï¸ à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà¯ & à®µà®¿à®°à¯ˆà®µà¯ à®¨à®Ÿà®µà®Ÿà®¿à®•à¯à®•à¯ˆà®•à®³à¯',
        'visual_analysis': 'ðŸ“ˆ à®•à®¾à®Ÿà¯à®šà®¿ à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà¯',
        'nutrient_distribution': 'à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®µà®¿à®¨à®¿à®¯à¯‹à®•à®®à¯',
        'ph_status': 'pH à®¨à®¿à®²à¯ˆ',
        'analyze_new': 'ðŸ”„ à®ªà¯à®¤à®¿à®¯ à®®à®¾à®¤à®¿à®°à®¿à®¯à¯ˆ à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà¯ à®šà¯†à®¯à¯à®¯à®µà¯à®®à¯',
        'footer': 'à®•à®²à¯à®µà®¿ & à®®à¯à®©à¯à®®à®¾à®¤à®¿à®°à®¿ à®¨à¯‹à®•à¯à®•à®™à¯à®•à®³à¯à®•à¯à®•à®¾à®• à®•à®Ÿà¯à®Ÿà®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯. à®‰à®³à¯à®³à¯‚à®°à¯ à®®à®£à¯ à®†à®¯à¯à®µà®•à®™à¯à®•à®³à¯ à®®à®±à¯à®±à¯à®®à¯ à®µà®¿à®µà®šà®¾à®¯ à®¨à®¿à®ªà¯à®£à®°à¯à®•à®³à¯à®Ÿà®©à¯ à®ªà®°à®¿à®¨à¯à®¤à¯à®°à¯ˆà®•à®³à¯ˆ à®Žà®ªà¯à®ªà¯‹à®¤à¯à®®à¯ à®šà®°à®¿à®ªà®¾à®°à¯à®•à¯à®•à®µà¯à®®à¯.',
        'soil_health_reasons_Healthy': 'à®‰à®™à¯à®•à®³à¯ à®®à®£à¯à®£à®¿à®²à¯ à®¨à®²à¯à®² à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®šà®®à®¨à®¿à®²à¯ˆ à®®à®±à¯à®±à¯à®®à¯ à®ªà¯Šà®°à¯à®¤à¯à®¤à®®à®¾à®© pH à®¨à®¿à®²à¯ˆà®•à®³à¯ à®‰à®³à¯à®³à®©.',
        'soil_health_reasons_Moderate': 'à®‰à®™à¯à®•à®³à¯ à®®à®£à¯ à®šà®¿à®±à®¿à®¯ à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®šà®®à®¨à®¿à®²à¯ˆà®¯à®¿à®©à¯à®®à¯ˆà®¯à¯ˆà®•à¯ à®•à®¾à®Ÿà¯à®Ÿà¯à®•à®¿à®±à®¤à¯. à®²à¯‡à®šà®¾à®© à®¤à®¿à®°à¯à®¤à¯à®¤à®¤à¯à®¤à¯ˆà®•à¯ à®•à®µà®©à®¿à®¯à¯à®™à¯à®•à®³à¯.',
        'soil_health_reasons_Low': 'à®‰à®™à¯à®•à®³à¯ à®®à®£à¯ à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯à®•à¯à®•à®³à¯ à®šà®®à®¨à®¿à®²à¯ˆà®¯à®±à¯à®±à®µà¯ˆ; à®®à¯‡à®®à¯à®ªà®¾à®Ÿà¯ à®¤à¯‡à®µà¯ˆ.',
        'ph_Highly acidic': 'à®®à®¿à®•à®µà¯à®®à¯ à®…à®®à®¿à®²à®®à®¾à®©',
        'ph_Slightly acidic': 'à®šà®±à¯à®±à¯ à®…à®®à®¿à®²à®®à®¾à®©', 
        'ph_Neutral': 'à®¨à®Ÿà¯à®¨à®¿à®²à¯ˆà®¯à®¾à®©',
        'ph_Slightly alkaline': 'à®šà®±à¯à®±à¯ à®•à®¾à®°à®®à®¾à®©',
        'ph_Highly alkaline': 'à®®à®¿à®•à®µà¯à®®à¯ à®•à®¾à®°à®®à®¾à®©',
        'ph_text_Highly acidic': 'à®®à®£à¯ à®®à®¿à®•à®µà¯à®®à¯ à®…à®®à®¿à®²à®®à®¾à®©à®¤à¯ â€” à®µà®¿à®µà®šà®¾à®¯ à®šà¯à®£à¯à®£à®¾à®®à¯à®ªà¯ˆ à®•à®²à®•à¯à®•à®µà¯à®®à¯.',
        'ph_text_Slightly acidic': 'à®®à®£à¯ à®šà®±à¯à®±à¯ à®…à®®à®¿à®²à®®à®¾à®©à®¤à¯ â€” à®µà®¿à®µà®šà®¾à®¯ à®šà¯à®£à¯à®£à®¾à®®à¯à®ªà¯ˆ à®šà¯‡à®°à¯à®•à¯à®•à®µà¯à®®à¯.',
        'ph_text_Neutral': 'à®®à®£à¯ à®¨à®Ÿà¯à®¨à®¿à®²à¯ˆà®¯à®¾à®©à®¤à¯ â€” à®•à®®à¯à®ªà¯‹à®¸à¯à®Ÿà¯à®Ÿà¯à®Ÿà®©à¯ à®ªà®°à®¾à®®à®°à®¿à®•à¯à®•à®µà¯à®®à¯.',
        'ph_text_Slightly alkaline': 'à®®à®£à¯ à®šà®±à¯à®±à¯ à®•à®¾à®°à®®à®¾à®©à®¤à¯ â€” à®œà®¿à®ªà¯à®šà®®à¯ à®ªà®¯à®©à¯à®ªà®Ÿà¯à®¤à¯à®¤à®µà¯à®®à¯.',
        'ph_text_Highly alkaline': 'à®®à®£à¯ à®®à®¿à®•à®µà¯à®®à¯ à®•à®¾à®°à®®à®¾à®©à®¤à¯ â€” à®œà®¿à®ªà¯à®šà®®à¯ + à®•à®®à¯à®ªà¯‹à®¸à¯à®Ÿà¯ à®šà¯‡à®°à¯à®•à¯à®•à®µà¯à®®à¯.',
        'Primary Results': 'à®®à¯à®¤à®©à¯à®®à¯ˆ à®®à¯à®Ÿà®¿à®µà¯à®•à®³à¯',
        'change_language': 'ðŸŒ à®®à¯Šà®´à®¿à®¯à¯ˆ à®®à®¾à®±à¯à®±à®µà¯à®®à¯',
        'feature_importance': 'ðŸ” à®…à®®à¯à®š à®®à¯à®•à¯à®•à®¿à®¯à®¤à¯à®¤à¯à®µà®®à¯',
        'feature_importance_desc': 'à®Žà®¨à¯à®¤ à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯à®•à¯à®•à®³à¯ à®®à®£à¯ à®†à®°à¯‹à®•à¯à®•à®¿à®¯à®®à¯ à®•à®£à®¿à®ªà¯à®ªà¯à®•à®³à¯ˆ à®…à®¤à®¿à®•à®®à¯ à®ªà®¾à®¤à®¿à®•à¯à®•à®¿à®©à¯à®±à®©',
        'model_performance': 'ðŸ“Š à®®à®¾à®¤à®¿à®°à®¿ à®šà¯†à®¯à®²à¯à®¤à®¿à®±à®©à¯',
        'model_performance_desc': 'à®®à®¾à®¤à®¿à®°à®¿ à®µà¯†à®µà¯à®µà¯‡à®±à¯ à®®à®£à¯ à®†à®°à¯‹à®•à¯à®•à®¿à®¯ à®¨à®¿à®²à¯ˆà®•à®³à¯ˆ à®Žà®µà¯à®µà®³à®µà¯ à®¤à¯à®²à¯à®²à®¿à®¯à®®à®¾à®• à®•à®£à®¿à®•à¯à®•à®¿à®±à®¤à¯',
        'soil_health_nutrient': 'ðŸŒ± à®®à®£à¯ à®†à®°à¯‹à®•à¯à®•à®¿à®¯à®®à¯ vs à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯à®•à¯à®•à®³à¯',
        'soil_health_nutrient_desc': 'à®µà¯†à®µà¯à®µà¯‡à®±à¯ à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®µà®°à®®à¯à®ªà¯à®•à®³à¯ à®®à®£à¯ à®†à®°à¯‹à®•à¯à®•à®¿à®¯ à®µà®•à¯ˆà®ªà¯à®ªà®¾à®Ÿà¯à®Ÿà¯ˆ à®Žà®µà¯à®µà®¾à®±à¯ à®ªà®¾à®¤à®¿à®•à¯à®•à®¿à®©à¯à®±à®©',
        'ph_impact': 'ðŸ§ª pH-à®‡à®©à¯ à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®•à®¿à®Ÿà¯ˆà®•à¯à®•à¯à®®à¯ à®¤à®©à¯à®®à¯ˆà®¯à®¿à®²à¯ à®¤à®¾à®•à¯à®•à®®à¯',
        'ph_impact_desc': 'à®®à®£à¯ pH à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®‰à®±à®¿à®žà¯à®šà¯à®¤à®²à¯ˆ à®Žà®µà¯à®µà®¾à®±à¯ à®ªà®¾à®¤à®¿à®•à¯à®•à®¿à®±à®¤à¯',
        'interpretation_guide': 'ðŸ“Š à®µà®¿à®³à®•à¯à®• à®µà®´à®¿à®•à®¾à®Ÿà¯à®Ÿà®¿:',
        'low_nutrient': 'à®šà®¿à®µà®ªà¯à®ªà¯ (à®•à¯à®±à¯ˆà®¨à¯à®¤): à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®•à¯à®±à¯ˆà®ªà®¾à®Ÿà¯ - à®‰à®Ÿà®©à®Ÿà®¿ à®•à®µà®©à®®à¯ à®¤à¯‡à®µà¯ˆ',
        'moderate_nutrient': 'à®†à®°à®žà¯à®šà¯ (à®®à®¿à®¤à®®à®¾à®©): à®à®±à¯à®±à¯à®•à¯à®•à¯Šà®³à¯à®³à®•à¯à®•à¯‚à®Ÿà®¿à®¯à®¤à¯ à®†à®©à®¾à®²à¯ à®®à¯‡à®®à¯à®ªà®Ÿà¯à®¤à¯à®¤à®ªà¯à®ªà®Ÿà®²à®¾à®®à¯',
        'healthy_nutrient': 'à®ªà®šà¯à®šà¯ˆ (à®†à®°à¯‹à®•à¯à®•à®¿à®¯à®®à®¾à®©): à®¤à®¾à®µà®° à®µà®³à®°à¯à®šà¯à®šà®¿à®•à¯à®•à¯ à®‰à®•à®¨à¯à®¤ à®µà®°à®®à¯à®ªà¯',
        'ph_insight': 'ðŸ’¡ pH à®¨à¯à®£à¯à®£à®±à®¿à®µà¯:',
        'overall_accuracy': 'à®®à¯Šà®¤à¯à®¤ à®®à®¾à®¤à®¿à®°à®¿ à®¤à¯à®²à¯à®²à®¿à®¯à®®à¯',
        'fertilizer_accuracy': 'à®‰à®° à®®à®¾à®¤à®¿à®°à®¿ à®¤à¯à®²à¯à®²à®¿à®¯à®®à¯',
        'model_confidence': 'à®®à®¾à®¤à®¿à®°à®¿ à®¨à®®à¯à®ªà®¿à®•à¯à®•à¯ˆ',
        'high_confidence': 'à®‰à®¯à®°à¯',
        'good_confidence': 'à®¨à®²à¯à®²', 
        'moderate_confidence': 'à®®à®¿à®¤à®®à®¾à®©',
        'model_trained_info': 'ðŸ’¡ à®®à®¾à®¤à®¿à®°à®¿ à®µà®°à®²à®¾à®±à¯à®±à¯ à®®à®£à¯ à®¤à®°à®µà¯à®•à®³à®¿à®²à¯ à®ªà®¯à®¿à®±à¯à®šà®¿ à®ªà¯†à®±à¯à®±à®¤à¯. à®‰à®³à¯à®³à¯‚à®°à¯ à®¨à®¿à®²à¯ˆà®®à¯ˆà®•à®³à¯à®•à¯à®•à¯ à®à®±à¯à®ª à®¤à¯à®²à¯à®²à®¿à®¯à®®à¯ à®®à®¾à®±à®²à®¾à®®à¯.',
        'detailed_recommendations_generated': 'âœ… à®µà®¿à®°à®¿à®µà®¾à®© à®ªà®°à®¿à®¨à¯à®¤à¯à®°à¯ˆà®•à®³à¯ à®‰à®°à¯à®µà®¾à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®©. à®‡à®¨à¯à®¤ à®®à¯à®Ÿà®¿à®µà¯à®•à®³à¯ˆ à®µà®´à®¿à®•à®¾à®Ÿà¯à®Ÿà®¿à®¯à®¾à®•à®ªà¯ à®ªà®¯à®©à¯à®ªà®Ÿà¯à®¤à¯à®¤à®µà¯à®®à¯ à®®à®±à¯à®±à¯à®®à¯ à®‰à®³à¯à®³à¯‚à®°à¯ à®µà®¿à®µà®šà®¾à®¯ à®¨à®¿à®ªà¯à®£à®°à¯à®•à®³à¯à®Ÿà®©à¯ à®•à¯à®±à¯à®•à¯à®•à¯ à®šà®°à®¿à®ªà®¾à®°à¯à®ªà¯à®ªà¯ à®šà¯†à®¯à¯à®¯à®µà¯à®®à¯.',
        'nutrient_ranges': 'à®Šà®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®µà®°à®®à¯à®ªà¯à®•à®³à¯',
        'your_value': 'à®‰à®™à¯à®•à®³à¯ à®®à®¤à®¿à®ªà¯à®ªà¯',
        'avoid_extra_urea': 'à®•à¯‚à®Ÿà¯à®¤à®²à¯ à®¯à¯‚à®°à®¿à®¯à®¾à®µà¯ˆ à®¤à®µà®¿à®°à¯à®•à¯à®•à®µà¯à®®à¯; à®…à®¤à®¿à®•à®®à®¾à®©à®¤à¯ à®ªà¯‚à®•à¯à®•à¯à®®à¯ à®¤à®©à¯à®®à¯ˆà®¯à¯ˆ à®•à¯à®±à¯ˆà®•à¯à®•à¯à®®à¯.',
        'avoid_extra_phosphorus': 'à®•à¯‚à®Ÿà¯à®¤à®²à¯ à®ªà®¾à®¸à¯à®ªà®°à®¸à¯ˆ à®¤à®µà®¿à®°à¯à®•à¯à®•à®µà¯à®®à¯; à®…à®¤à®¿à®•à®®à®¾à®©à®¤à¯ à®¨à¯à®£à¯à®£à¯‚à®Ÿà¯à®Ÿà®šà¯à®šà®¤à¯à®¤à¯ à®‰à®±à®¿à®žà¯à®šà¯à®¤à®²à¯ˆ à®ªà®¾à®¤à®¿à®•à¯à®•à¯à®®à¯.',
        'avoid_extra_potassium': 'à®•à¯‚à®Ÿà¯à®¤à®²à¯ à®ªà¯Šà®Ÿà¯à®Ÿà®¾à®·à¯ˆ à®¤à®µà®¿à®°à¯à®•à¯à®•à®µà¯à®®à¯; à®…à®¤à®¿à®•à®®à®¾à®©à®¤à¯ Mg/Ca à®‰à®±à®¿à®žà¯à®šà¯à®¤à®²à¯ˆ à®•à¯à®±à¯ˆà®•à¯à®•à¯à®®à¯.',
        'add_urea': 'à®¯à¯‚à®°à®¿à®¯à®¾ à®šà¯‡à®°à¯à®•à¯à®•à®µà¯à®®à¯',
        'add_dap': 'à®Ÿà®¿à®à®ªà®¿ à®šà¯‡à®°à¯à®•à¯à®•à®µà¯à®®à¯',
        'add_mop': 'à®Žà®®à¯à®“à®ªà®¿ à®šà¯‡à®°à¯à®•à¯à®•à®µà¯à®®à¯',
        'balanced': 'à®šà®®à®¨à®¿à®²à¯ˆ',
        'low': 'à®•à¯à®±à¯ˆà®¨à¯à®¤',
        'medium': 'à®®à®¿à®¤à®®à®¾à®©', 
        'high': 'à®‰à®¯à®°à¯',
        'unknown': 'à®…à®±à®¿à®¯à®ªà¯à®ªà®Ÿà®¾à®¤'
    },
    'kannada': {
        'app_title': 'à²®à²£à³à²£à²¿à²¨ à²¸à³à²ªà²¾à²°à³à²•à³',
        'app_subtitle': 'ðŸŒ± AI-à²šà²¾à²²à²¿à²¤ à²®à²£à³à²£à²¿à²¨ à²†à²°à³‹à²—à³à²¯ à²®à²¤à³à²¤à³ à²Žà²°à³à²µ à²®à²¾à²°à³à²—à²¦à²°à³à²¶à²¨ ðŸŒ±',
        'start_button': 'ðŸš€ à²ªà³à²°à²¯à²¾à²£ à²ªà³à²°à²¾à²°à²‚à²­à²¿à²¸à²¿',
        'language_page_title': 'à²¨à²¿à²®à³à²® à²­à²¾à²·à³†à²¯à²¨à³à²¨à³ à²†à²°à²¿à²¸à²¿',
        'language_page_subtitle': 'à²…à²ªà³à²²à²¿à²•à³‡à²¶à²¨à³à²—à²¾à²—à²¿ à²¨à²¿à²®à³à²® à²†à²¦à³à²¯à²¤à³†à²¯ à²­à²¾à²·à³†à²¯à²¨à³à²¨à³ à²†à²°à²¿à²¸à²¿',
        'continue_button': 'à²®à³à²‚à²¦à³à²µà²°à²¿à²¸à²¿',
        'input_page_title': 'ðŸŒ¾ à²®à²£à³à²£à²¿à²¨ à²¸à³à²ªà²¾à²°à³à²•à³',
        'input_page_subtitle': 'ML-à²šà²¾à²²à²¿à²¤ à²¸à³à²®à²¾à²°à³à²Ÿà³ à²«à²¾à²°à³à²®à³ à²¶à²¿à²«à²¾à²°à²¸à³à²—à²³à³ â€” à²¤à³à²µà²°à²¿à²¤ à²®à²¾à²°à³à²—à²¦à²°à³à²¶à²¨ à²ªà²¡à³†à²¯à²²à³ à²¨à²¿à²®à³à²® à²®à²£à³à²£à²¿à²¨ à²ªà²°à³€à²•à³à²·à²¾ à²®à³Œà²²à³à²¯à²—à²³à²¨à³à²¨à³ à²¨à²®à³‚à²¦à²¿à²¸à²¿.',
        'enter_values': 'ðŸ“ à²®à²£à³à²£à²¿à²¨ à²ªà²°à³€à²•à³à²·à²¾ à²®à³Œà²²à³à²¯à²—à²³à²¨à³à²¨à³ à²¨à²®à³‚à²¦à²¿à²¸à²¿',
        'nitrogen': 'à²¨à³ˆà²Ÿà³à²°à³‹à²œà²¨à³ (N) - kg/ha',
        'phosphorus': 'à²«à²¾à²¸à³à²«à²°à²¸à³ (P) - kg/ha',
        'potassium': 'à²ªà³Šà²Ÿà²¾à²¶à²¿à²¯à²‚ (K) - kg/ha',
        'ph_value': 'pH à²®à³Œà²²à³à²¯',
        'analyze_button': 'ðŸ” à²®à²£à³à²£à²¨à³à²¨à³ à²µà²¿à²¶à³à²²à³‡à²·à²¿à²¸à²¿',
        'output_page_title': 'ðŸ“Š à²®à²£à³à²£à²¿à²¨ à²¸à³à²ªà²¾à²°à³à²•à³ - à²µà²¿à²¶à³à²²à³‡à²·à²£à³† à²«à²²à²¿à²¤à²¾à²‚à²¶à²—à²³à³',
        'input_values': 'ðŸ“¥ à²‡à²¨à³à²ªà³à²Ÿà³ à²®à³Œà²²à³à²¯à²—à²³à³',
        'soil_health': 'à²®à²£à³à²£à²¿à²¨ à²†à²°à³‹à²—à³à²¯',
        'recommended_fertilizer': 'à²¶à²¿à²«à²¾à²°à²¸à³ à²®à²¾à²¡à²¿à²¦ à²Žà²°à³à²µà³',
        'ph_category': 'pH à²µà²°à³à²—',
        'detailed_recommendations': 'ðŸ“‹ à²µà²¿à²µà²°à²µà²¾à²¦ à²¶à²¿à²«à²¾à²°à²¸à³à²—à²³à²¨à³à²¨à³ à²ªà²¡à³†à²¯à²¿à²°à²¿',
        'icar_plan': 'ðŸŒ¾ à²à²¸à²¿à²Žà²†à²°à³ à²•à³à²°à²¿à²¯à²¾ à²¯à³‹à²œà²¨à³†',
        'nutrient_analysis': 'âš ï¸ à²ªà³‹à²·à²• à²µà²¿à²¶à³à²²à³‡à²·à²£à³† à²®à²¤à³à²¤à³ à²¤à³à²µà²°à²¿à²¤ à²•à³à²°à²®à²—à²³à³',
        'visual_analysis': 'ðŸ“ˆ à²¦à³ƒà²¶à³à²¯ à²µà²¿à²¶à³à²²à³‡à²·à²£à³†',
        'nutrient_distribution': 'à²ªà³‹à²·à²• à²µà²¿à²¤à²°à²£à³†',
        'ph_status': 'pH à²¸à³à²¥à²¿à²¤à²¿',
        'analyze_new': 'ðŸ”„ à²¹à³Šà²¸ à²®à²¾à²¦à²°à²¿ à²µà²¿à²¶à³à²²à³‡à²·à²¿à²¸à²¿',
        'footer': 'à²¶à³ˆà²•à³à²·à²£à²¿à²• à²®à²¤à³à²¤à³ à²ªà³à²°à³‹à²Ÿà³‹à²Ÿà³ˆà²ªà³ à²‰à²¦à³à²¦à³‡à²¶à²—à²³à²¿à²—à²¾à²—à²¿ à²¨à²¿à²°à³à²®à²¿à²¸à²²à²¾à²—à²¿à²¦à³†. à²¸à³à²¥à²³à³€à²¯ à²®à²£à³à²£à²¿à²¨ à²ªà³à²°à²¯à³‹à²—à²¶à²¾à²²à³†à²—à²³à³ à²®à²¤à³à²¤à³ à²•à³ƒà²·à²¿ à²¤à²œà³à²žà²°à³Šà²‚à²¦à²¿à²—à³† à²¶à²¿à²«à²¾à²°à²¸à³à²—à²³à²¨à³à²¨à³ à²¯à²¾à²µà²¾à²—à²²à³‚ à²ªà²°à²¿à²¶à³€à²²à²¿à²¸à²¿.',
        'soil_health_reasons_Healthy': 'à²¨à²¿à²®à³à²® à²®à²£à³à²£à²¿à²¨à²²à³à²²à²¿ à²‰à²¤à³à²¤à²® à²ªà³‹à²·à²• à²¸à²®à²¤à³‹à²²à²¨ à²®à²¤à³à²¤à³ à²¸à³‚à²•à³à²¤ pH à²®à²Ÿà³à²Ÿà²—à²³à²¿à²µà³†.',
        'soil_health_reasons_Moderate': 'à²¨à²¿à²®à³à²® à²®à²£à³à²£à³ à²¸à³à²µà²²à³à²ª à²ªà³‹à²·à²• à²…à²¸à²®à²¤à³‹à²²à²¨à²µà²¨à³à²¨à³ à²¤à³‹à²°à²¿à²¸à³à²¤à³à²¤à²¦à³†. à²¸à³Œà²®à³à²¯ à²¤à²¿à²¦à³à²¦à³à²ªà²¡à²¿à²¯à²¨à³à²¨à³ à²ªà²°à²¿à²—à²£à²¿à²¸à²¿.',
        'soil_health_reasons_Low': 'à²¨à²¿à²®à³à²® à²®à²£à³à²£à²¿à²¨ à²ªà³‹à²·à²•à²—à²³à³ à²…à²¸à²®à²¤à³‹à²²à²¿à²¤à²µà²¾à²—à²¿à²µà³†; à²¸à³à²§à²¾à²°à²£à³† à²…à²—à²¤à³à²¯à²µà²¿à²¦à³†.',
        'ph_Highly acidic': 'à²…à²¤à³à²¯à²‚à²¤ à²†à²®à³à²²à³€à²¯',
        'ph_Slightly acidic': 'à²¸à³à²µà²²à³à²ª à²†à²®à³à²²à³€à²¯', 
        'ph_Neutral': 'à²¤à²Ÿà²¸à³à²¥',
        'ph_Slightly alkaline': 'à²¸à³à²µà²²à³à²ª à²•à³à²·à²¾à²°à³€à²¯',
        'ph_Highly alkaline': 'à²…à²¤à³à²¯à²‚à²¤ à²•à³à²·à²¾à²°à³€à²¯',
        'ph_text_Highly acidic': 'à²®à²£à³à²£à³ à²…à²¤à³à²¯à²‚à²¤ à²†à²®à³à²²à³€à²¯à²µà²¾à²—à²¿à²¦à³† â€” à²•à³ƒà²·à²¿ à²¸à³à²£à³à²£à²µà²¨à³à²¨à³ à²¬à³†à²°à³†à²¸à²¿.',
        'ph_text_Slightly acidic': 'à²®à²£à³à²£à³ à²¸à³à²µà²²à³à²ª à²†à²®à³à²²à³€à²¯à²µà²¾à²—à²¿à²¦à³† â€” à²•à³ƒà²·à²¿ à²¸à³à²£à³à²£à²µà²¨à³à²¨à³ à²¸à³‡à²°à²¿à²¸à²¿.',
        'ph_text_Neutral': 'à²®à²£à³à²£à³ à²¤à²Ÿà²¸à³à²¥à²µà²¾à²—à²¿à²¦à³† â€” à²•à²‚à²ªà³‹à²¸à³à²Ÿà³à²¨à³Šà²‚à²¦à²¿à²—à³† à²¨à²¿à²°à³à²µà²¹à²¿à²¸à²¿.',
        'ph_text_Slightly alkaline': 'à²®à²£à³à²£à³ à²¸à³à²µà²²à³à²ª à²•à³à²·à²¾à²°à³€à²¯à²µà²¾à²—à²¿à²¦à³† â€” à²œà²¿à²ªà³à²¸à²‚ à²…à²¨à³à²¨à³ à²…à²¨à³à²µà²¯à²¿à²¸à²¿.',
        'ph_text_Highly alkaline': 'à²®à²£à³à²£à³ à²…à²¤à³à²¯à²‚à²¤ à²•à³à²·à²¾à²°à³€à²¯à²µà²¾à²—à²¿à²¦à³† â€” à²œà²¿à²ªà³à²¸à²‚ + à²•à²‚à²ªà³‹à²¸à³à²Ÿà³ à²¸à³‡à²°à²¿à²¸à²¿.',
        'Primary Results': 'à²ªà³à²°à²¾à²¥à²®à²¿à²• à²«à²²à²¿à²¤à²¾à²‚à²¶à²—à²³à³',
        'change_language': 'ðŸŒ à²­à²¾à²·à³† à²¬à²¦à²²à²¾à²¯à²¿à²¸à²¿',
        'feature_importance': 'ðŸ” à²«à³€à²šà²°à³ à²®à²¹à²¤à³à²µ',
        'feature_importance_desc': 'à²¯à²¾à²µ à²ªà³‹à²·à²•à²—à²³à³ à²®à²£à³à²£à²¿à²¨ à²†à²°à³‹à²—à³à²¯ à²­à²µà²¿à²·à³à²¯à²µà²¾à²£à²¿à²—à²³à²¨à³à²¨à³ à²¹à³†à²šà³à²šà³ à²ªà³à²°à²­à²¾à²µà²¿à²¸à³à²¤à³à²¤à²µà³†',
        'model_performance': 'ðŸ“Š à²®à²¾à²¦à²°à²¿ à²•à²¾à²°à³à²¯à²•à³à²·à²®à²¤à³†',
        'model_performance_desc': 'à²®à²¾à²¦à²°à²¿ à²µà²¿à²µà²¿à²§ à²®à²£à³à²£à²¿à²¨ à²†à²°à³‹à²—à³à²¯ à²®à²Ÿà³à²Ÿà²—à²³à²¨à³à²¨à³ à²Žà²·à³à²Ÿà³ à²¨à²¿à²–à²°à²µà²¾à²—à²¿ à²Šà²¹à²¿à²¸à³à²¤à³à²¤à²¦à³†',
        'soil_health_nutrient': 'ðŸŒ± à²®à²£à³à²£à²¿à²¨ à²†à²°à³‹à²—à³à²¯ vs à²ªà³‹à²·à²•à²—à²³à³',
        'soil_health_nutrient_desc': 'à²µà²¿à²µà²¿à²§ à²ªà³‹à²·à²• à²µà³à²¯à²¾à²ªà³à²¤à²¿à²—à²³à³ à²®à²£à³à²£à²¿à²¨ à²†à²°à³‹à²—à³à²¯ à²µà²°à³à²—à³€à²•à²°à²£à²µà²¨à³à²¨à³ à²¹à³‡à²—à³† à²ªà³à²°à²­à²¾à²µà²¿à²¸à³à²¤à³à²¤à²µà³†',
        'ph_impact': 'ðŸ§ª pH à²¨ à²ªà³‹à²·à²• à²²à²­à³à²¯à²¤à³†à²¯ à²®à³‡à²²à³† à²ªà³à²°à²­à²¾à²µ',
        'ph_impact_desc': 'à²®à²£à³à²£à²¿à²¨ pH à²ªà³‹à²·à²•à²—à²³ à²¹à³€à²°à²¿à²•à³†à²¯à²¨à³à²¨à³ à²¹à³‡à²—à³† à²ªà³à²°à²­à²¾à²µà²¿à²¸à³à²¤à³à²¤à²¦à³†',
        'interpretation_guide': 'ðŸ“Š à²…à²°à³à²¥à³ˆà²¸à³à²µ à²®à²¾à²°à³à²—à²¦à²°à³à²¶à²¿:',
        'low_nutrient': 'à²•à³†à²‚à²ªà³ (à²•à²¡à²¿à²®à³†): à²ªà³‹à²·à²• à²•à³Šà²°à²¤à³† - à²¤à²•à³à²·à²£ à²—à²®à²¨ à²¬à³‡à²•à³',
        'moderate_nutrient': 'à²¨à²¾à²°à²‚à²—à²¿ (à²®à²§à³à²¯à²®): à²¸à³à²µà³€à²•à²¾à²°à²¾à²°à³à²¹ à²†à²¦à²°à³† à²¸à³à²§à²¾à²°à²¿à²¸à²¬à²¹à³à²¦à³',
        'healthy_nutrient': 'à²¹à²¸à²¿à²°à³ (à²†à²°à³‹à²—à³à²¯à²•à²°): à²¸à²¸à³à²¯ à²¬à³†à²³à²µà²£à²¿à²—à³†à²—à³† à²…à²¨à³à²•à³‚à²²à²•à²° à²µà³à²¯à²¾à²ªà³à²¤à²¿',
        'ph_insight': 'ðŸ’¡ pH à²’à²³à²¨à³‹à²Ÿ:',
        'overall_accuracy': 'à²’à²Ÿà³à²Ÿà³ à²®à²¾à²¦à²°à²¿ à²¨à²¿à²–à²°à²¤à³†',
        'fertilizer_accuracy': 'à²Žà²°à³à²µà³ à²®à²¾à²¦à²°à²¿ à²¨à²¿à²–à²°à²¤à³†',
        'model_confidence': 'à²®à²¾à²¦à²°à²¿ à²µà²¿à²¶à³à²µà²¾à²¸',
        'high_confidence': 'à²…à²§à²¿à²•',
        'good_confidence': 'à²‰à²¤à³à²¤à²®', 
        'moderate_confidence': 'à²®à²§à³à²¯à²®',
        'model_trained_info': 'ðŸ’¡ à²®à²¾à²¦à²°à²¿ à²à²¤à²¿à²¹à²¾à²¸à²¿à²• à²®à²£à³à²£à²¿à²¨ à²¡à³‡à²Ÿà²¾à²µà²¨à³à²¨à³ à²¬à²³à²¸à²¿ à²¤à²°à²¬à³‡à²¤à²¿ à²ªà²¡à³†à²¦à²¿à²¦à³†. à²¸à³à²¥à²³à³€à²¯ à²ªà²°à²¿à²¸à³à²¥à²¿à²¤à²¿à²—à²³ à²ªà³à²°à²•à²¾à²° à²¨à²¿à²–à²°à²¤à³† à²¬à²¦à²²à²¾à²—à²¬à²¹à³à²¦à³.',
        'detailed_recommendations_generated': 'âœ… à²µà²¿à²µà²°à²µà²¾à²¦ à²¶à²¿à²«à²¾à²°à²¸à³à²—à²³à²¨à³à²¨à³ à²°à²šà²¿à²¸à²²à²¾à²—à²¿à²¦à³†. à²ˆ à²«à²²à²¿à²¤à²¾à²‚à²¶à²—à²³à²¨à³à²¨à³ à²®à²¾à²°à³à²—à²¦à²°à³à²¶à²¨à²µà²¾à²—à²¿ à²¬à²³à²¸à²¿ à²®à²¤à³à²¤à³ à²¸à³à²¥à²³à³€à²¯ à²•à³ƒà²·à²¿ à²¤à²œà³à²žà²°à³Šà²‚à²¦à²¿à²—à³† à²–à²šà²¿à²¤à²ªà²¡à²¿à²¸à²¿à²•à³Šà²³à³à²³à²¿.',
        'nutrient_ranges': 'à²ªà³‹à²·à²• à²µà³à²¯à²¾à²ªà³à²¤à²¿à²—à²³à³',
        'your_value': 'à²¨à²¿à²®à³à²® à²®à³Œà²²à³à²¯',
        'avoid_extra_urea': 'à²¹à³†à²šà³à²šà³à²µà²°à²¿ à²¯à³‚à²°à²¿à²¯à²¾ à²¤à²ªà³à²ªà²¿à²¸à²¿; à²¹à³†à²šà³à²šà³ à²†à²¦à²°à³† à²¹à³‚à²µà²¿à²¨ à²•à³Šà²°à²¤à³† à²‰à²‚à²Ÿà²¾à²—à³à²¤à³à²¤à²¦à³†.',
        'avoid_extra_phosphorus': 'à²¹à³†à²šà³à²šà³à²µà²°à²¿ à²«à²¾à²¸à³à²«à²°à²¸à³ à²¤à²ªà³à²ªà²¿à²¸à²¿; à²¹à³†à²šà³à²šà³ à²†à²¦à²°à³† à²¸à³‚à²•à³à²·à³à²® à²ªà³‹à²·à²•à²—à²³ à²¹à³€à²°à²¿à²•à³† à²ªà³à²°à²­à²¾à²µà²¿à²¤à²µà²¾à²—à³à²¤à³à²¤à²¦à³†.',
        'avoid_extra_potassium': 'à²¹à³†à²šà³à²šà³à²µà²°à²¿ à²ªà³Šà²Ÿà²¾à²·à³ à²¤à²ªà³à²ªà²¿à²¸à²¿; à²¹à³†à²šà³à²šà³ à²†à²¦à²°à³† Mg/Ca à²¹à³€à²°à²¿à²•à³† à²•à²¡à²¿à²®à³†à²¯à²¾à²—à³à²¤à³à²¤à²¦à³†.',
        'add_urea': 'à²¯à³‚à²°à²¿à²¯à²¾ à²¸à³‡à²°à²¿à²¸à²¿',
        'add_dap': 'à²¡à²¿à²Žà²ªà²¿ à²¸à³‡à²°à²¿à²¸à²¿',
        'add_mop': 'à²Žà²®à³à²’à²ªà²¿ à²¸à³‡à²°à²¿à²¸à²¿',
        'balanced': 'à²¸à²®à²¤à³‹à²²à²¿à²¤',
        'low': 'à²•à²¡à²¿à²®à³†',
        'medium': 'à²®à²§à³à²¯à²®', 
        'high': 'à²¹à³†à²šà³à²šà³',
        'unknown': 'à²…à²œà³à²žà²¾à²¤'
    }
}

def get_translation(key, language='english'):
    """Get translation for a given key in the specified language"""
    try:
        if language in translations and key in translations[language]:
            return translations[language][key]
        # Fallback to English
        if key in translations['english']:
            return translations['english'][key]
        return key  # Return the key itself if not found
    except:
        return key  # Return the key itself in case of any error

#---------------------------
#Load & clean columns
#---------------------------

def clean_columns(df: pd.DataFrame) -> pd.DataFrame: 
    df = df.copy() 
    df.columns = df.columns.str.strip().str.lower().str.replace(' ', '_', regex=False) 
    return df

#---------------------------
#Load CSVs (with fallback upload)
#---------------------------

@st.cache_resource
def load_datasets():
    soil_df = None 
    fert_df = None 
    if os.path.exists("soilhealth.csv"): 
        soil_df = pd.read_csv("soilhealth.csv") 
    if os.path.exists("fertilizer.csv"): 
        fert_df = pd.read_csv("fertilizer.csv") 
    return soil_df, fert_df

soil_df, fert_df = load_datasets()

#---------------------------
#Sidebar: Assets and dataset upload
#---------------------------

with st.sidebar: 
    st.header("Soil Spark") 
    st.write("Upload datasets if not present in project folder") 
    soil_upload = st.file_uploader("Upload soilhealth.csv", type=['csv']) 
    fert_upload = st.file_uploader("Upload fertilizer.csv", type=['csv'])

    if soil_upload is not None:
        soil_df = pd.read_csv(soil_upload)
    if fert_upload is not None:
        fert_df = pd.read_csv(fert_upload)

    st.markdown("---")
    
    # Advanced options in sidebar
    st.subheader("Advanced Options") 
    show_dataset = st.checkbox("Show dataset preview", value=False) 
    show_charts = st.checkbox("Show nutrient charts", value=True)
    
    st.caption("Developed: AI Soil Health & Fertilizer Recommender")

#---------------------------
#Validate datasets
#---------------------------

if soil_df is None or fert_df is None: 
    st.warning("Soil or fertilizer dataset not found. Upload CSVs in the sidebar or place 'soilhealth.csv' and 'fertilizer.csv' in the app folder.")

if soil_df is not None: 
    soil_df = clean_columns(soil_df) 
if fert_df is not None: 
    fert_df = clean_columns(fert_df)

if fert_df is not None and all(col in fert_df.columns for col in ['nitrogen','phosphorus','potassium']): 
    fert_df[['nitrogen','phosphorus','potassium']] = fert_df[['nitrogen','phosphorus','potassium']] * 2

#---------------------------
#Model training functions (cached)
#---------------------------

@st.cache_data(show_spinner=False) 
def train_soil_model(df: pd.DataFrame): 
    df2 = df.copy() 
    df2 = df2[['n','p','k','ph','output']].dropna() 
    df2['n_p_ratio'] = df2['n'] / (df2['p'] + 1e-6) 
    le = LabelEncoder() 
    y = le.fit_transform(df2['output']) 
    X = df2[['n','p','k','ph','n_p_ratio']] 
    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42) 
    model = RandomForestClassifier(n_estimators=200, random_state=42) 
    model.fit(X_train, y_train) 
    acc = accuracy_score(y_test, model.predict(X_test)) 
    return model, le, acc

@st.cache_data(show_spinner=False) 
def train_fert_model(df: pd.DataFrame): 
    df2 = df.copy() 
    cols_needed = ['nitrogen','phosphorus','potassium','fertilizer_recommended'] 
    df2 = df2[[c for c in cols_needed if c in df2.columns]].dropna() 
    df2['n_p_ratio'] = df2['nitrogen'] / (df2['phosphorus'] + 1e-6) 
    le = LabelEncoder() 
    df2['fert_enc'] = le.fit_transform(df2['fertilizer_recommended']) 
    X = df2[['nitrogen','phosphorus','potassium','n_p_ratio']] 
    y = df2['fert_enc'] 
    scaler = StandardScaler() 
    Xs = scaler.fit_transform(X) 
    model = RandomForestClassifier(n_estimators=200, random_state=42) 
    model.fit(Xs, y) 
    cv = cross_val_score(model, Xs, y, cv=5).mean() 
    return model, le, scaler, cv

soil_model = None 
fert_model = None 
le_soil = None 
le_fert = None 
scaler = None 
soil_acc = None 
fert_acc = None

if soil_df is not None: 
    try: 
        soil_model, le_soil, soil_acc = train_soil_model(soil_df) 
    except Exception as e: 
        st.error(f"Failed to train soil model: {e}")

if fert_df is not None: 
    try: 
        fert_model, le_fert, scaler, fert_acc = train_fert_model(fert_df) 
    except Exception as e: 
        st.error(f"Failed to train fertilizer model: {e}")

#---------------------------
#Utility functions
#---------------------------

def ph_category_and_text(pH, language='english'): 
    if pH < 5.5: 
        return get_translation('ph_Highly acidic', language), get_translation('ph_text_Highly acidic', language)
    if 5.5 <= pH < 6.5: 
        return get_translation('ph_Slightly acidic', language), get_translation('ph_text_Slightly acidic', language)
    if 6.5 <= pH <= 7.5: 
        return get_translation('ph_Neutral', language), get_translation('ph_text_Neutral', language)
    if 7.5 < pH <= 8.5: 
        return get_translation('ph_Slightly alkaline', language), get_translation('ph_text_Slightly alkaline', language)
    return get_translation('ph_Highly alkaline', language), get_translation('ph_text_Highly alkaline', language)

def nutrient_level(val, nut, language='english'): 
    level = ""
    if nut == 'N': 
        level = "Low" if val < 200 else "Medium" if val <= 400 else "High" 
    if nut == 'P': 
        level = "Low" if val < 15 else "Medium" if val <= 35 else "High" 
    if nut == 'K': 
        level = "Low" if val < 110 else "Medium" if val <= 280 else "High"
    
    # Translate the level
    return get_translation(level.lower(), language)

def nutrient_warnings(N, P, K, language='english'): 
    msgs = [] 
    mapping_name = {"N": "Nitrogen", "P": "Phosphorus", "K": "Potassium"}
    mapping_rec = {"N": "add_urea", "P": "add_dap", "K": "add_mop"} 
    
    for val, nut in zip([N, P, K], ['N','P','K']): 
        level = nutrient_level(val, nut, language) 
        if level == get_translation('low', language): 
            msgs.append(f"{get_translation(mapping_name[nut], language)} ({level}): {get_translation(mapping_rec[nut], language)}") 
        elif level == get_translation('medium', language):
            msgs.append(f"{get_translation(mapping_name[nut], language)} ({level}): {get_translation('balanced', language)}") 
        else: 
            high_msg = { 
                "N": get_translation('avoid_extra_urea', language),
                "P": get_translation('avoid_extra_phosphorus', language), 
                "K": get_translation('avoid_extra_potassium', language) 
            }[nut] 
            msgs.append(f"{get_translation(mapping_name[nut], language)} ({level}): {high_msg}") 
    return msgs

def icar_tip(primary, soil_health, language='english'):
    if soil_health == get_translation('low', language):
         return f"Apply {primary} with compost/FYM in 2â€“3 splits as per ICAR guidelines." 
    elif soil_health == get_translation('moderate', language):
         return f"Apply {primary} in 2 splits and include compost." 
    else: 
         return f"Apply {primary} once and maintain crop rotation."

#---------------------------
#Prediction logic
#---------------------------

def predict_soil_health(N, P, K, pH, language='english'):
    if soil_model is None:
        return get_translation('unknown', language), "Model not loaded"
    
    try:
        n_p_ratio = N / (P + 1e-6)
        pred_num = soil_model.predict([[N, P, K, pH, n_p_ratio]])[0]
        mapping = {0: "Low", 1: "Moderate", 2: "Healthy"}
        pred = mapping.get(pred_num, get_translation('unknown', language))

        # Get translated reason
        reason_key = f'soil_health_reasons_{pred}'
        reason = get_translation(reason_key, language)
        
        return get_translation(pred.lower(), language), reason

    except Exception as e:
        return get_translation('unknown', language), f"Prediction error: {e}"

def recommend_fertilizer(N, P, K, soil_health): 
    if fert_model is None or scaler is None: 
        if N < 200: 
            primary = 'Urea' 
        elif P < 15: 
            primary = 'DAP' 
        elif K < 110: 
            primary = 'MOP' 
        else: 
            primary = 'Balanced NPK' 
        return primary, 0.65 
    user_df = pd.DataFrame([[N, P, K, N/(P+1e-6)]], columns=['nitrogen','phosphorus','potassium','n_p_ratio']) 
    user_scaled = scaler.transform(user_df) 
    fert_enc = fert_model.predict(user_scaled)[0] 
    prob = fert_model.predict_proba(user_scaled).max() 
    primary = le_fert.inverse_transform([fert_enc])[0] 
    if soil_health == 'Low' and 'organic' not in primary.lower(): 
        primary = primary + ' + Organic matter' 
    return primary, prob

#---------------------------
# Initialize session state
#---------------------------

if 'page' not in st.session_state:
    st.session_state.page = 'start'
if 'N' not in st.session_state:
    st.session_state.N = None
if 'P' not in st.session_state:
    st.session_state.P = None
if 'K' not in st.session_state:
    st.session_state.K = None
if 'pH' not in st.session_state:
    st.session_state.pH = None
if 'show_details' not in st.session_state:
    st.session_state.show_details = False
if 'language' not in st.session_state:
    st.session_state.language = 'english'

#---------------------------
# START PAGE
#---------------------------

if st.session_state.page == 'start':
    st.markdown("<br><br><br>", unsafe_allow_html=True)
    
    # Center content
    col1, col2, col3 = st.columns([1, 2, 1])
    
    with col2:
        st.markdown("""
        <h1 style='text-align: center; color: #059669; font-size: 72px; font-family: Georgia, serif; margin-bottom: 20px;'>
            SOIL SPARK
        </h1>
        """, unsafe_allow_html=True)
        
        st.markdown("""
        <p style='text-align: center; color: #10b981; font-size: 20px; margin-bottom: 50px;'>
            ðŸŒ± AI-Powered Soil Health & Fertilizer Guidance ðŸŒ±
        </p>
        """, unsafe_allow_html=True)
        
        # Start button
        if st.button("ðŸš€ Start Journey", use_container_width=True, type="secondary"):
            st.session_state.page = 'language'
            st.rerun()
        
        st.markdown("<br>", unsafe_allow_html=True)
        st.markdown("""
        <p style='text-align: center; color: #6b7280; font-size: 14px;'>
            Smart recommendations powered by machine learning
        </p>
        """, unsafe_allow_html=True)

#---------------------------
# LANGUAGE SELECTION PAGE
#---------------------------

elif st.session_state.page == 'language':
    st.markdown("<br><br><br>", unsafe_allow_html=True)
    
    # Center content
    col1, col2, col3 = st.columns([1, 2, 1])
    
    with col2:
        st.markdown(f"""
        <h1 style='text-align: center; color: #059669; font-size: 48px; font-family: Georgia, serif; margin-bottom: 20px;'>
            {get_translation('language_page_title', 'english')}
        </h1>
        """, unsafe_allow_html=True)
        
        st.markdown(f"""
        <p style='text-align: center; color: #10b981; font-size: 18px; margin-bottom: 50px;'>
            {get_translation('language_page_subtitle', 'english')}
        </p>
        """, unsafe_allow_html=True)
        
        # Language selection buttons
        languages = [
            ('English', 'english'),
            ('à¤¹à¤¿à¤¨à¥à¤¦à¥€ (Hindi)', 'hindi'),
            ('à°¤à±†à°²à±à°—à± (Telugu)', 'telugu'),
            ('à®¤à®®à®¿à®´à¯ (Tamil)', 'tamil'),
            ('à²•à²¨à³à²¨à²¡ (Kannada)', 'kannada')
        ]
        
        for lang_name, lang_code in languages:
            if st.button(lang_name, use_container_width=True, key=lang_code):
                st.session_state.language = lang_code
                st.session_state.page = 'input'
                st.rerun()
        
        st.markdown("<br>", unsafe_allow_html=True)
        
        # Back button
        if st.button("â† Back", use_container_width=True, type="secondary"):
            st.session_state.page = 'start'
            st.rerun()

#---------------------------
# INPUT PAGE
#---------------------------

elif st.session_state.page == 'input':
    current_lang = st.session_state.language
    
    st.markdown(f"<h1 style='text-align:center; color:#059669;'>{get_translation('input_page_title', current_lang)}</h1>", unsafe_allow_html=True) 
    st.markdown(f"<p style='text-align:center; font-size:16px; color:#10b981;'>{get_translation('input_page_subtitle', current_lang)}</p>", unsafe_allow_html=True)
    
    st.markdown("<br>", unsafe_allow_html=True)
    
    # Center the input form
    col_left, col_center, col_right = st.columns([1, 2, 1])
    
    with col_center:
        st.markdown(f"### {get_translation('enter_values', current_lang)}")
        
        with st.form("soil_input_form"):
            N_input = st.text_input(get_translation('nitrogen', current_lang), placeholder="e.g., 200", help="Range: 0-600 kg/ha")
            P_input = st.text_input(get_translation('phosphorus', current_lang), placeholder="e.g., 30", help="Range: 0-120 kg/ha")
            K_input = st.text_input(get_translation('potassium', current_lang), placeholder="e.g., 150", help="Range: 0-800 kg/ha")
            pH_input = st.text_input(get_translation('ph_value', current_lang), placeholder="e.g., 6.5", help="Range: 3.5-10.0")
            
            submit_button = st.form_submit_button(get_translation('analyze_button', current_lang), use_container_width=True)
            
            if submit_button:
                # Validate inputs
                try:
                    N_val = float(N_input)
                    P_val = float(P_input)
                    K_val = float(K_input)
                    pH_val = float(pH_input)
                    
                    # Range validation
                    if not (0 <= N_val <= 600):
                        st.error("âŒ Nitrogen must be between 0 and 600 kg/ha")
                    elif not (0 <= P_val <= 120):
                        st.error("âŒ Phosphorus must be between 0 and 120 kg/ha")
                    elif not (0 <= K_val <= 800):
                        st.error("âŒ Potassium must be between 0 and 800 kg/ha")
                    elif not (3.5 <= pH_val <= 10.0):
                        st.error("âŒ pH must be between 3.5 and 10.0")
                    else:
                        # Store in session state and navigate
                        st.session_state.N = N_val
                        st.session_state.P = P_val
                        st.session_state.K = K_val
                        st.session_state.pH = pH_val
                        st.session_state.page = 'output'
                        st.session_state.show_details = False
                        st.rerun()
                        
                except ValueError:
                    st.error("âŒ Please enter valid numeric values for all fields")
    
    # Back to language selection button
    if st.button(get_translation('change_language', current_lang), use_container_width=True):
        st.session_state.page = 'language'
        st.rerun()
    
    # Show dataset preview if enabled
    if show_dataset:
        st.markdown("---")
        st.markdown("### ðŸ“Š Dataset Preview") 
        col1, col2 = st.columns(2)
        with col1:
            if soil_df is not None: 
                st.write("**Soil Dataset (first 5 rows)**") 
                st.dataframe(soil_df.head(), use_container_width=True) 
        with col2:
            if fert_df is not None: 
                st.write("**Fertilizer Dataset (first 5 rows)**") 
                st.dataframe(fert_df.head(), use_container_width=True)
    
    # Show model accuracy
    if soil_acc is not None or fert_acc is not None:
        st.markdown("---")
        col1, col2 = st.columns(2)
        if soil_acc is not None:
            col1.info(f"ðŸŽ¯ Soil health model accuracy: {soil_acc*100:.2f}%") 
        if fert_acc is not None:
            col2.info(f"ðŸŽ¯ Fertilizer model accuracy: {fert_acc*100:.2f}%")

#---------------------------
# OUTPUT PAGE
#---------------------------

elif st.session_state.page == 'output':
    current_lang = st.session_state.language
    
    # Get values from session state
    N = st.session_state.N
    P = st.session_state.P
    K = st.session_state.K
    pH = st.session_state.pH
    
    # Run predictions
    soil_health, reason = predict_soil_health(N, P, K, pH, current_lang)
    primary, conf = recommend_fertilizer(N, P, K, soil_health)
    ph_cat, ph_text = ph_category_and_text(pH, current_lang)
    
    # Header
    st.markdown(f"<h1 style='text-align:center; color:#059669;'>{get_translation('output_page_title', current_lang)}</h1>", unsafe_allow_html=True)
    st.markdown("<br>", unsafe_allow_html=True)
    
    # Display input values
    st.markdown(f"<h3 style='color:#065f46;'>{get_translation('input_values', current_lang)}</h3>", unsafe_allow_html=True)
    input_col1, input_col2, input_col3, input_col4 = st.columns(4)
    input_col1.metric(get_translation('nitrogen', current_lang), f"{N} kg/ha")
    input_col2.metric(get_translation('phosphorus', current_lang), f"{P} kg/ha")
    input_col3.metric(get_translation('potassium', current_lang), f"{K} kg/ha")
    input_col4.metric(get_translation('ph_value', current_lang), f"{pH}")
    
    st.markdown("---")
    
    # Main results
    st.markdown(f"<h3 style='color:#065f46;'>ðŸŽ¯ {get_translation('Primary Results', current_lang)}</h3>", unsafe_allow_html=True)
    c1, c2, c3 = st.columns(3)
    
    # Color coding for soil health
    health_color = {"Healthy": "ðŸŸ¢", "Moderate": "ðŸŸ¡", "Low": "ðŸ”´", "Unknown": "âšª"}
    c1.markdown(f"<h4 style='color:#065f46;'>{health_color.get(soil_health, 'âšª')} {get_translation('soil_health', current_lang)}</h4>", unsafe_allow_html=True)
    c1.markdown(f"<h3 style='color:#065f46;'><strong>{soil_health}</strong></h3>", unsafe_allow_html=True)
    c1.markdown(f"<p style='color:#065f46;'><em>{reason}</em></p>", unsafe_allow_html=True)
    
    c2.markdown(f"<h4 style='color:#065f46;'>ðŸ’Š {get_translation('recommended_fertilizer', current_lang)}</h4>", unsafe_allow_html=True)
    c2.markdown(f"<h3 style='color:#065f46;'><strong>{primary}</strong></h3>", unsafe_allow_html=True)
    c2.markdown(f"<p style='color:#065f46;'><em>Confidence: {conf*100:.2f}%</em></p>", unsafe_allow_html=True)
    
    c3.markdown(f"<h4 style='color:#065f46;'>ðŸ§ª {get_translation('ph_category', current_lang)}</h4>", unsafe_allow_html=True)
    c3.markdown(f"<h3 style='color:#065f46;'><strong>{ph_cat}</strong></h3>", unsafe_allow_html=True)
    c3.markdown(f"<p style='color:#065f46;'><em>{ph_text}</em></p>", unsafe_allow_html=True)
    
    st.markdown("---")
    
    # Get Recommendations button (expandable)
    if st.button(get_translation('detailed_recommendations', current_lang), use_container_width=True, type="primary"):
        st.session_state.show_details = not st.session_state.show_details
    
    # Show details if expanded
    if st.session_state.show_details:
        st.markdown("---")
        
        # ICAR Tips
        st.markdown(f"<h3 style='color:#065f46;'>{get_translation('icar_plan', current_lang)}</h3>", unsafe_allow_html=True)
        st.info(icar_tip(primary, soil_health, current_lang))
        st.markdown(f"<p style='color:#065f46;'><strong>pH Management:</strong> {ph_text}</p>", unsafe_allow_html=True)
        
        st.markdown("---")
        
        # Nutrient Warnings
        st.markdown(f"<h3 style='color:#065f46;'>{get_translation('nutrient_analysis', current_lang)}</h3>", unsafe_allow_html=True)
        warnings = nutrient_warnings(N, P, K, current_lang)
        for msg in warnings:
            st.markdown(f"<p style='color:#065f46;'>â€¢ {msg}</p>", unsafe_allow_html=True)
        
        # Charts
        if show_charts:
            st.markdown("---")
            st.markdown(f"<h3 style='color:#065f46;'>{get_translation('visual_analysis', current_lang)}</h3>", unsafe_allow_html=True)
            
            # Soil Health vs Nutrient Levels
            st.markdown("---")
            st.markdown(f"<h3 style='color:#065f46;'>{get_translation('soil_health_nutrient', current_lang)}</h3>", unsafe_allow_html=True)
            st.markdown(f"<p style='color:#065f46;'>{get_translation('soil_health_nutrient_desc', current_lang)}</p>", unsafe_allow_html=True)
            
            # Create sample data based on user's input and general soil science
            health_categories = [get_translation('low', current_lang), get_translation('moderate', current_lang), get_translation('healthy', current_lang)]
            
            # Nutrient ranges for each health category (simplified for demonstration)
            nutrient_ranges = {
                get_translation('nitrogen', current_lang): {get_translation('low', current_lang): [0, 200], get_translation('moderate', current_lang): [200, 400], get_translation('healthy', current_lang): [400, 600]},
                get_translation('phosphorus', current_lang): {get_translation('low', current_lang): [0, 15], get_translation('moderate', current_lang): [15, 35], get_translation('healthy', current_lang): [35, 120]},
                get_translation('potassium', current_lang): {get_translation('low', current_lang): [0, 110], get_translation('moderate', current_lang): [110, 280], get_translation('healthy', current_lang): [280, 800]}
            }
            
            fig_health, axes = plt.subplots(1, 3, figsize=(15, 5))
            colors = ['#e74c3c', '#f39c12', '#2ecc71']  # Red, Orange, Green
            
            nutrients = [get_translation('nitrogen', current_lang), get_translation('phosphorus', current_lang), get_translation('potassium', current_lang)]
            user_values = [N, P, K]
            
            for i, (nutrient, ax) in enumerate(zip(nutrients, axes)):
                ranges = nutrient_ranges[nutrient]
                
                # Create horizontal bars for each health category
                y_pos = np.arange(len(health_categories))
                bar_values = [ranges[cat][1] - ranges[cat][0] for cat in health_categories]
                
                bars = ax.barh(y_pos, bar_values, color=colors, alpha=0.7, edgecolor='black', linewidth=1)
                
                # Add range labels
                for j, (cat, bar) in enumerate(zip(health_categories, bars)):
                    width = bar.get_width()
                    ax.text(width/2, bar.get_y() + bar.get_height()/2, 
                           f'{ranges[cat][0]}-{ranges[cat][1]}', 
                           ha='center', va='center', fontweight='bold', fontsize=10)
                
                # Mark user's current value
                user_val = user_values[i]
                user_category = None
                for cat in health_categories:
                    if ranges[cat][0] <= user_val <= ranges[cat][1]:
                        user_category = cat
                        break
                
                if user_category:
                    cat_index = health_categories.index(user_category)
                    ax.axhline(y=cat_index, color='red', linestyle='--', linewidth=2, 
                              label=f'{get_translation("your_value", current_lang)}: {user_val}')
                
                ax.set_yticks(y_pos)
                ax.set_yticklabels(health_categories)
                ax.set_xlabel(nutrient, fontsize=12)
                ax.set_title(f'{get_translation("nutrient_ranges", current_lang)}', fontsize=13, weight='bold')
                ax.grid(axis='x', alpha=0.3)
                ax.legend()
            
            plt.tight_layout()
            st.pyplot(fig_health)
            
            # Interpretation
            st.markdown(f"""
            <div style='background-color: #d1fae5; padding: 15px; border-radius: 10px; border: 1px solid #059669; margin-top: 15px;'>
            <strong>{get_translation('interpretation_guide', current_lang)}</strong><br>
            â€¢ <span style='color:#e74c3c'><strong>{get_translation('low_nutrient', current_lang)}</strong></span><br>
            â€¢ <span style='color:#f39c12'><strong>{get_translation('moderate_nutrient', current_lang)}</strong></span><br>
            â€¢ <span style='color:#2ecc71'><strong>{get_translation('healthy_nutrient', current_lang)}</strong></span>
            </div>
            """, unsafe_allow_html=True)
            
            chart_col1, chart_col2 = st.columns(2)
            
            with chart_col1:
                # pH Effect Chart
                st.markdown("---")
                st.markdown(f"<h3 style='color:#065f46;'>{get_translation('ph_impact', current_lang)}</h3>", unsafe_allow_html=True)
                st.markdown(f"<p style='color:#065f46;'>{get_translation('ph_impact_desc', current_lang)}</p>", unsafe_allow_html=True)
                
                fig_ph, ax_ph = plt.subplots(figsize=(10, 5))
                
                # pH ranges
                ph_categories = [
                    f"{get_translation('ph_Highly acidic', current_lang)}\n(4.0-5.5)", 
                    f"{get_translation('ph_Slightly acidic', current_lang)}\n(5.5-6.5)", 
                    f"{get_translation('ph_Neutral', current_lang)}\n(6.5-7.5)", 
                    f"{get_translation('ph_Slightly alkaline', current_lang)}\n(7.5-8.5)", 
                    f"{get_translation('ph_Highly alkaline', current_lang)}\n(8.5-9.0)"
                ]
                
                # Nutrient availability scores (relative)
                nitrogen_avail = [30, 80, 100, 70, 40]
                phosphorus_avail = [20, 90, 100, 60, 20]
                potassium_avail = [50, 90, 100, 80, 50]
                micronutrient_avail = [90, 70, 50, 30, 20]
                
                x_pos = np.arange(len(ph_categories))
                width = 0.2
                
                ax_ph.bar(x_pos - width*1.5, nitrogen_avail, width, label=get_translation('nitrogen', current_lang), color='#2ecc71', alpha=0.8)
                ax_ph.bar(x_pos - width/2, phosphorus_avail, width, label=get_translation('phosphorus', current_lang), color='#3498db', alpha=0.8)
                ax_ph.bar(x_pos + width/2, potassium_avail, width, label=get_translation('potassium', current_lang), color='#e74c3c', alpha=0.8)
                ax_ph.bar(x_pos + width*1.5, micronutrient_avail, width, label='Micronutrients', color='#f39c12', alpha=0.8)
                
                ax_ph.set_xlabel(get_translation('ph_value', current_lang), fontsize=12)
                ax_ph.set_ylabel('Relative Availability (%)', fontsize=12)
                ax_ph.set_title(get_translation('ph_impact', current_lang), fontsize=14, weight='bold')
                ax_ph.set_xticks(x_pos)
                ax_ph.set_xticklabels(ph_categories, rotation=45, ha='right')
                ax_ph.legend()
                ax_ph.grid(axis='y', alpha=0.3)
                ax_ph.set_ylim(0, 110)
                
                # Highlight current pH range
                current_ph_range = None
                if pH < 5.5:
                    current_ph_range = 0
                elif 5.5 <= pH < 6.5:
                    current_ph_range = 1
                elif 6.5 <= pH <= 7.5:
                    current_ph_range = 2
                elif 7.5 < pH <= 8.5:
                    current_ph_range = 3
                else:
                    current_ph_range = 4
                    
                ax_ph.axvline(x=current_ph_range, color='red', linestyle='--', alpha=0.8, linewidth=2, 
                              label=f'{get_translation("your_value", current_lang)}: {pH}')
                ax_ph.legend()
                
                plt.tight_layout()
                st.pyplot(fig_ph)
                
                st.markdown(f"""
                <div style='background-color: #d1fae5; padding: 15px; border-radius: 10px; border: 1px solid #059669;'>
                <strong>{get_translation('ph_insight', current_lang)}</strong> {get_translation('your_value', current_lang)} (<strong>{pH:.1f}</strong>) {get_translation('ph_category', current_lang).lower()} <strong>{ph_cat}</strong>. 
                {get_translation('ph_impact_desc', current_lang)}
                </div>
                """, unsafe_allow_html=True)
            
            with chart_col2:
                # Feature Importance Plot
                st.markdown("---")
                st.markdown(f"<h3 style='color:#065f46;'>{get_translation('feature_importance', current_lang)}</h3>", unsafe_allow_html=True)
                st.markdown(f"<p style='color:#065f46;'>{get_translation('feature_importance_desc', current_lang)}</p>", unsafe_allow_html=True)
                
                if soil_model is not None:
                    try:
                        # Get feature importances
                        importances = soil_model.feature_importances_
                        feature_names = [
                            get_translation('nitrogen', current_lang), 
                            get_translation('phosphorus', current_lang), 
                            get_translation('potassium', current_lang), 
                            get_translation('ph_value', current_lang), 
                            'N/P Ratio'
                        ]
                        
                        # Create feature importance plot
                        fig_imp, ax_imp = plt.subplots(figsize=(8, 4))
                        y_pos = np.arange(len(feature_names))
                        ax_imp.barh(y_pos, importances, color=['#2ecc71', '#3498db', '#e74c3c', '#f39c12', '#9b59b6'])
                        ax_imp.set_yticks(y_pos)
                        ax_imp.set_yticklabels(feature_names)
                        ax_imp.set_xlabel('Importance Score', fontsize=12)
                        ax_imp.set_title(get_translation('feature_importance', current_lang), fontsize=14, weight='bold')
                        ax_imp.grid(axis='x', alpha=0.3)
                        
                        plt.tight_layout()
                        st.pyplot(fig_imp)
                        
                        # Display importance percentages
                        imp_df = pd.DataFrame({
                            'Feature': feature_names,
                            'Importance (%)': (importances * 100).round(2)
                        })
                        st.dataframe(imp_df, use_container_width=True)
                        
                    except Exception as e:
                        st.warning(f"Could not generate feature importance: {e}")
            
            # Model Performance
            st.markdown("---")
            st.markdown(f"<h3 style='color:#065f46;'>{get_translation('model_performance', current_lang)}</h3>", unsafe_allow_html=True)
            st.markdown(f"<p style='color:#065f46;'>{get_translation('model_performance_desc', current_lang)}</p>", unsafe_allow_html=True)
            
            st.info(get_translation('model_trained_info', current_lang))
            
            if soil_acc is not None:
                col1, col2, col3 = st.columns(3)
                col1.metric(get_translation('overall_accuracy', current_lang), f"{soil_acc*100:.2f}%")
                
                # Show cross-validation score if available
                if fert_acc is not None:
                    col2.metric(get_translation('fertilizer_accuracy', current_lang), f"{fert_acc*100:.2f}%")
                
                confidence_level = get_translation('high_confidence', current_lang) if soil_acc > 0.85 else get_translation('good_confidence', current_lang) if soil_acc > 0.75 else get_translation('moderate_confidence', current_lang)
                col3.metric(get_translation('model_confidence', current_lang), confidence_level)
        
        st.markdown("---")
        st.success(get_translation('detailed_recommendations_generated', current_lang))
    
    # Navigation buttons
    st.markdown("<br>", unsafe_allow_html=True)
    nav_col1, nav_col2, nav_col3 = st.columns([1, 1, 1])
    
    with nav_col2:
        if st.button(get_translation('analyze_new', current_lang), use_container_width=True, type="secondary"):
            st.session_state.page = 'input'
            st.session_state.show_details = False
            st.rerun()

#---------------------------
# Footer
#---------------------------

st.markdown("---") 
st.caption(get_translation('footer', st.session_state.language))
